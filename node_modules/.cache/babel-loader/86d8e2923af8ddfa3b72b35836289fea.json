{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\glush\\\\Desktop\\\\react-sapr-main\\\\src\\\\components\\\\PostProcessor\\\\PostProcessor.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./PostProcessor.scss\";\nimport { VictoryChart, VictoryArea } from \"victory\";\nimport { connect } from \"react-redux\";\nimport { fixTail } from \"./../Processor/calculate\";\nimport PostProcessorTable from \"./PostProcessorTable\";\n\nfunction PostProcessor(props) {\n  _s();\n\n  const [chosenRodForNx, setChosenRodForNx] = useState(1);\n  const [NxInputValue, setNxInputValue] = useState(0);\n  let NxResult = \"\";\n  const [chosenRodForUx, setChosenRodForUx] = useState(1);\n  const [UxInputValue, setUxInputValue] = useState(0);\n  let UxResult = \"\";\n  const [chosenRodForSx, setChosenRodForSx] = useState(1);\n  const [SxInputValue, setSxInputValue] = useState(0);\n  let SxResult = \"\";\n\n  if (!props.objWithSolutionFunctions) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-processor error\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u041D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u043E \\u043F\\u0440\\u043E\\u0432\\u0435\\u0441\\u0442\\u0438 \\u0440\\u0430\\u0441\\u0447\\u0435\\u0442. \\u041F\\u0435\\u0440\\u0435\\u0439\\u0434\\u0438\\u0442\\u0435 \\u0432 \\u043F\\u0440\\u043E\\u0446\\u0435\\u0441\\u0441\\u043E\\u0440.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this);\n  }\n\n  const rodsLengths = props.rodsRows.map(rod => rod.length);\n  const rodsSigmas = props.rodsRows.map(rod => rod.sigma);\n  const NxPlotData = [];\n  let xPosForNxPlot = 0;\n  rodsLengths.forEach((rodLength, index) => {\n    const dotsPerRod = 10;\n    const step = rodLength / dotsPerRod;\n    let currentRodXPos = 0;\n\n    for (let i = 0; i < dotsPerRod; i++) {\n      NxPlotData.push({\n        x: xPosForNxPlot + currentRodXPos,\n        y: fixTail(props.objWithSolutionFunctions.N[index](currentRodXPos)),\n        y0: 0\n      });\n      currentRodXPos += step;\n\n      if (i === dotsPerRod - 1) {\n        NxPlotData.push({\n          x: xPosForNxPlot + currentRodXPos,\n          y: fixTail(props.objWithSolutionFunctions.N[index](currentRodXPos)),\n          y0: 0\n        }); // NxPlotData.push({\n        //     x: xPosForNxPlot + currentRodXPos,\n        //     y: 0,\n        //     y0: 0,\n        // });\n        // NxPlotData.push({\n        //     x: xPosForNxPlot + currentRodXPos,\n        //     y: fixTail(\n        //         props.objWithSolutionFunctions.N[index](currentRodXPos)\n        //     ),\n        //     y0: 0,\n        // });\n      }\n    }\n\n    xPosForNxPlot += rodLength;\n  });\n  console.log(NxPlotData);\n  const UxPlotData = [];\n  let xPosForUxPlot = 0;\n  rodsLengths.forEach((rodLength, index) => {\n    const dotsPerRod = 10;\n    const step = rodLength / dotsPerRod;\n    let currentRodXPos = 0;\n\n    for (let i = 0; i < dotsPerRod; i++) {\n      UxPlotData.push({\n        x: xPosForUxPlot + currentRodXPos,\n        y: fixTail(props.objWithSolutionFunctions.U[index](currentRodXPos)),\n        y0: 0\n      });\n      currentRodXPos += step;\n\n      if (i === dotsPerRod - 1) {\n        UxPlotData.push({\n          x: xPosForUxPlot + currentRodXPos,\n          y: fixTail(props.objWithSolutionFunctions.U[index](currentRodXPos)),\n          y0: 0\n        }); // UxPlotData.push({\n        //     x: xPosForUxPlot + currentRodXPos,\n        //     y: 0,\n        //     y0: 0,\n        // });\n        // UxPlotData.push({\n        //     x: xPosForUxPlot + currentRodXPos,\n        //     y: fixTail(\n        //         props.objWithSolutionFunctions.U[index](currentRodXPos)\n        //     ),\n        //     y0: 0,\n        // });\n      }\n    }\n\n    xPosForUxPlot += rodLength;\n  });\n  const SxPlotData = [];\n  let xPosForSxPlot = 0;\n  rodsLengths.forEach((rodLength, index) => {\n    const dotsPerRod = 10;\n    const step = rodLength / dotsPerRod;\n    let currentRodXPos = 0;\n\n    for (let i = 0; i < dotsPerRod; i++) {\n      SxPlotData.push({\n        x: xPosForSxPlot + currentRodXPos,\n        y: fixTail(props.objWithSolutionFunctions.S[index](currentRodXPos)),\n        y0: 0\n      });\n      currentRodXPos += step;\n\n      if (i === dotsPerRod - 1) {\n        SxPlotData.push({\n          x: xPosForSxPlot + currentRodXPos,\n          y: fixTail(props.objWithSolutionFunctions.S[index](currentRodXPos)),\n          y0: 0\n        }); // SxPlotData.push({\n        //     x: xPosForSxPlot + currentRodXPos,\n        //     y: 0,\n        //     y0: 0,\n        // });\n        // SxPlotData.push({\n        //     x: xPosForSxPlot + currentRodXPos,\n        //     y: fixTail(\n        //         props.objWithSolutionFunctions.S[index](currentRodXPos)\n        //     ),\n        //     y0: 0,\n        // });\n      }\n    }\n\n    xPosForSxPlot += rodLength;\n  });\n\n  if (NxInputValue < 0 || NxInputValue > rodsLengths[chosenRodForNx - 1]) {\n    NxResult = \"Неправильно введен X\";\n  } else {\n    NxResult = props.objWithSolutionFunctions.N[chosenRodForNx - 1](NxInputValue);\n  }\n\n  if (UxInputValue < 0 || UxInputValue > rodsLengths[chosenRodForUx - 1]) {\n    UxResult = \"Неправильно введен X\";\n  } else {\n    UxResult = props.objWithSolutionFunctions.U[chosenRodForUx - 1](UxInputValue);\n  }\n\n  if (SxInputValue < 0 || SxInputValue > rodsLengths[chosenRodForSx - 1]) {\n    SxResult = \"Неправильно введен X\";\n  } else {\n    SxResult = props.objWithSolutionFunctions.S[chosenRodForSx - 1](SxInputValue);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-processor\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"plots\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"plot\",\n        children: /*#__PURE__*/_jsxDEV(VictoryChart, {\n          children: /*#__PURE__*/_jsxDEV(VictoryArea, {\n            data: NxPlotData,\n            style: {\n              data: {\n                fill: \"#c43a31\",\n                fillOpacity: 0.7\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"plot\",\n        children: [/*#__PURE__*/_jsxDEV(VictoryChart, {\n          children: /*#__PURE__*/_jsxDEV(VictoryArea, {\n            data: UxPlotData,\n            style: {\n              data: {\n                fill: \"#c43a31\",\n                fillOpacity: 0.7\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exact-values\",\n          children: [\"U\", /*#__PURE__*/_jsxDEV(\"select\", {\n            default: chosenRodForUx,\n            onChange: e => setChosenRodForUx(Number(e.target.value)),\n            children: rodsLengths.map((rod, index) => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: index + 1,\n                children: index + 1\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 37\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this), \"(\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: UxInputValue,\n            onChange: e => setUxInputValue(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 25\n          }, this), \") =\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            readOnly: true,\n            value: UxResult\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"plot\",\n        children: [/*#__PURE__*/_jsxDEV(VictoryChart, {\n          children: /*#__PURE__*/_jsxDEV(VictoryArea, {\n            data: SxPlotData,\n            style: {\n              data: {\n                fill: \"#c43a31\",\n                fillOpacity: 0.7\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exact-values\",\n          children: [\"\\u03C3\", /*#__PURE__*/_jsxDEV(\"select\", {\n            defaultValue: chosenRodForSx,\n            onChange: e => setChosenRodForSx(Number(e.target.value)),\n            children: rodsLengths.map((rod, index) => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: index + 1,\n                children: index + 1\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 37\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 25\n          }, this), \"(\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: SxInputValue,\n            onChange: e => setSxInputValue(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this), \") =\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            readOnly: true,\n            value: SxResult\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PostProcessorTable, {\n      rodsSigmas: rodsSigmas,\n      rodsLengths: rodsLengths,\n      objWithSolutionFunctions: props.objWithSolutionFunctions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PostProcessor, \"/emXPBu9XUir1F2pAe0nEfU4cDE=\");\n\n_c = PostProcessor;\n\nconst mapStateToProps = state => {\n  return {\n    isConstructionComputed: state.rodsAndNodes.objWithSolutionFunctions,\n    rodsRows: state.rodsAndNodes.rodsRows,\n    nodesRows: state.rodsAndNodes.nodesRows,\n    leftSupport: state.rodsAndNodes.leftSupport,\n    rightSupport: state.rodsAndNodes.rightSupport,\n    objWithSolutionFunctions: state.rodsAndNodes.objWithSolutionFunctions\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostProcessor);\n\nvar _c;\n\n$RefreshReg$(_c, \"PostProcessor\");","map":{"version":3,"sources":["C:/Users/glush/Desktop/react-sapr-main/src/components/PostProcessor/PostProcessor.js"],"names":["React","useState","VictoryChart","VictoryArea","connect","fixTail","PostProcessorTable","PostProcessor","props","chosenRodForNx","setChosenRodForNx","NxInputValue","setNxInputValue","NxResult","chosenRodForUx","setChosenRodForUx","UxInputValue","setUxInputValue","UxResult","chosenRodForSx","setChosenRodForSx","SxInputValue","setSxInputValue","SxResult","objWithSolutionFunctions","rodsLengths","rodsRows","map","rod","length","rodsSigmas","sigma","NxPlotData","xPosForNxPlot","forEach","rodLength","index","dotsPerRod","step","currentRodXPos","i","push","x","y","N","y0","console","log","UxPlotData","xPosForUxPlot","U","SxPlotData","xPosForSxPlot","S","data","fill","fillOpacity","e","Number","target","value","mapStateToProps","state","isConstructionComputed","rodsAndNodes","nodesRows","leftSupport","rightSupport","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./PostProcessor.scss\";\nimport { VictoryChart, VictoryArea } from \"victory\";\nimport { connect } from \"react-redux\";\nimport { fixTail } from \"./../Processor/calculate\";\nimport PostProcessorTable from \"./PostProcessorTable\";\n\nfunction PostProcessor(props) {\n    const [chosenRodForNx, setChosenRodForNx] = useState(1);\n    const [NxInputValue, setNxInputValue] = useState(0);\n    let NxResult = \"\";\n\n    const [chosenRodForUx, setChosenRodForUx] = useState(1);\n    const [UxInputValue, setUxInputValue] = useState(0);\n    let UxResult = \"\";\n\n    const [chosenRodForSx, setChosenRodForSx] = useState(1);\n    const [SxInputValue, setSxInputValue] = useState(0);\n    let SxResult = \"\";\n\n    if (!props.objWithSolutionFunctions) {\n        return (\n            <div className=\"post-processor error\">\n                <div>Необходимо провести расчет. Перейдите в процессор.</div>\n            </div>\n        );\n    }\n\n    const rodsLengths = props.rodsRows.map((rod) => rod.length);\n    const rodsSigmas = props.rodsRows.map((rod) => rod.sigma);\n    const NxPlotData = [];\n    let xPosForNxPlot = 0;\n    rodsLengths.forEach((rodLength, index) => {\n        const dotsPerRod = 10;\n        const step = rodLength / dotsPerRod;\n        let currentRodXPos = 0;\n        for (let i = 0; i < dotsPerRod; i++) {\n            NxPlotData.push({\n                x: xPosForNxPlot + currentRodXPos,\n                y: fixTail(\n                    props.objWithSolutionFunctions.N[index](currentRodXPos)\n                ),\n                y0: 0,\n            });\n            currentRodXPos += step;\n            if (i === dotsPerRod - 1) {\n                NxPlotData.push({\n                    x: xPosForNxPlot + currentRodXPos,\n                    y: fixTail(\n                        props.objWithSolutionFunctions.N[index](currentRodXPos)\n                    ),\n                    y0: 0,\n                });\n                // NxPlotData.push({\n                //     x: xPosForNxPlot + currentRodXPos,\n                //     y: 0,\n                //     y0: 0,\n                // });\n                // NxPlotData.push({\n                //     x: xPosForNxPlot + currentRodXPos,\n                //     y: fixTail(\n                //         props.objWithSolutionFunctions.N[index](currentRodXPos)\n                //     ),\n                //     y0: 0,\n                // });\n            }\n        }\n        xPosForNxPlot += rodLength;\n    });\n\n    console.log(NxPlotData);\n\n    const UxPlotData = [];\n    let xPosForUxPlot = 0;\n    rodsLengths.forEach((rodLength, index) => {\n        const dotsPerRod = 10;\n        const step = rodLength / dotsPerRod;\n        let currentRodXPos = 0;\n        for (let i = 0; i < dotsPerRod; i++) {\n            UxPlotData.push({\n                x: xPosForUxPlot + currentRodXPos,\n                y: fixTail(\n                    props.objWithSolutionFunctions.U[index](currentRodXPos)\n                ),\n                y0: 0,\n            });\n            currentRodXPos += step;\n            if (i === dotsPerRod - 1) {\n                UxPlotData.push({\n                    x: xPosForUxPlot + currentRodXPos,\n                    y: fixTail(\n                        props.objWithSolutionFunctions.U[index](currentRodXPos)\n                    ),\n                    y0: 0,\n                });\n                // UxPlotData.push({\n                //     x: xPosForUxPlot + currentRodXPos,\n                //     y: 0,\n                //     y0: 0,\n                // });\n                // UxPlotData.push({\n                //     x: xPosForUxPlot + currentRodXPos,\n                //     y: fixTail(\n                //         props.objWithSolutionFunctions.U[index](currentRodXPos)\n                //     ),\n                //     y0: 0,\n                // });\n            }\n        }\n        xPosForUxPlot += rodLength;\n    });\n\n    const SxPlotData = [];\n    let xPosForSxPlot = 0;\n    rodsLengths.forEach((rodLength, index) => {\n        const dotsPerRod = 10;\n        const step = rodLength / dotsPerRod;\n        let currentRodXPos = 0;\n        for (let i = 0; i < dotsPerRod; i++) {\n            SxPlotData.push({\n                x: xPosForSxPlot + currentRodXPos,\n                y: fixTail(\n                    props.objWithSolutionFunctions.S[index](currentRodXPos)\n                ),\n                y0: 0,\n            });\n            currentRodXPos += step;\n            if (i === dotsPerRod - 1) {\n                SxPlotData.push({\n                    x: xPosForSxPlot + currentRodXPos,\n                    y: fixTail(\n                        props.objWithSolutionFunctions.S[index](currentRodXPos)\n                    ),\n                    y0: 0,\n                });\n                // SxPlotData.push({\n                //     x: xPosForSxPlot + currentRodXPos,\n                //     y: 0,\n                //     y0: 0,\n                // });\n                // SxPlotData.push({\n                //     x: xPosForSxPlot + currentRodXPos,\n                //     y: fixTail(\n                //         props.objWithSolutionFunctions.S[index](currentRodXPos)\n                //     ),\n                //     y0: 0,\n                // });\n            }\n        }\n        xPosForSxPlot += rodLength;\n    });\n\n    if (NxInputValue < 0 || NxInputValue > rodsLengths[chosenRodForNx - 1]) {\n        NxResult = \"Неправильно введен X\";\n    } else {\n        NxResult = props.objWithSolutionFunctions.N[chosenRodForNx - 1](\n            NxInputValue\n        );\n    }\n\n    if (UxInputValue < 0 || UxInputValue > rodsLengths[chosenRodForUx - 1]) {\n        UxResult = \"Неправильно введен X\";\n    } else {\n        UxResult = props.objWithSolutionFunctions.U[chosenRodForUx - 1](\n            UxInputValue\n        );\n    }\n\n    if (SxInputValue < 0 || SxInputValue > rodsLengths[chosenRodForSx - 1]) {\n        SxResult = \"Неправильно введен X\";\n    } else {\n        SxResult = props.objWithSolutionFunctions.S[chosenRodForSx - 1](\n            SxInputValue\n        );\n    }\n\n    return (\n        <div className=\"post-processor\">\n            <div className=\"plots\">\n                <div className=\"plot\">\n                    <VictoryChart>\n                        <VictoryArea\n                            data={NxPlotData}\n                            style={{\n                                data: { fill: \"#c43a31\", fillOpacity: 0.7 },\n                            }}\n                        />\n                    </VictoryChart>\n                </div>\n                <div className=\"plot\">\n                    <VictoryChart >\n                        <VictoryArea\n                            data={UxPlotData}\n                            style={{\n                                data: { fill: \"#c43a31\", fillOpacity: 0.7 },\n                            }}\n                        />\n                    </VictoryChart>\n                    <div className=\"exact-values\">\n                        U\n                        <select\n                            default={chosenRodForUx}\n                            onChange={(e) =>\n                                setChosenRodForUx(Number(e.target.value))\n                            }>\n                            {rodsLengths.map((rod, index) => {\n                                return (\n                                    <option key={index} value={index + 1}>\n                                        {index + 1}\n                                    </option>\n                                );\n                            })}\n                        </select>\n                        (\n                        <input\n                            type=\"number\"\n                            value={UxInputValue}\n                            onChange={(e) => setUxInputValue(e.target.value)}\n                        />\n                        ) =\n                        <input type=\"text\" readOnly value={UxResult} />\n                    </div>\n                </div>\n                <div className=\"plot\">\n                    <VictoryChart>\n                        <VictoryArea\n                            data={SxPlotData}\n                            style={{\n                                data: { fill: \"#c43a31\", fillOpacity: 0.7 },\n                            }}\n                        />\n                    </VictoryChart>\n                    <div className=\"exact-values\">\n                        σ\n                        <select\n                            defaultValue={chosenRodForSx}\n                            onChange={(e) =>\n                                setChosenRodForSx(Number(e.target.value))\n                            }>\n                            {rodsLengths.map((rod, index) => {\n                                return (\n                                    <option key={index} value={index + 1}>\n                                        {index + 1}\n                                    </option>\n                                );\n                            })}\n                        </select>\n                        (\n                        <input\n                            type=\"number\"\n                            value={SxInputValue}\n                            onChange={(e) => setSxInputValue(e.target.value)}\n                        />\n                        ) =\n                        <input type=\"text\" readOnly value={SxResult} />\n                    </div>\n                </div>\n            </div>\n            <PostProcessorTable\n                rodsSigmas={rodsSigmas}\n                rodsLengths={rodsLengths}\n                objWithSolutionFunctions={props.objWithSolutionFunctions}\n            />\n        </div>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isConstructionComputed: state.rodsAndNodes.objWithSolutionFunctions,\n        rodsRows: state.rodsAndNodes.rodsRows,\n        nodesRows: state.rodsAndNodes.nodesRows,\n        leftSupport: state.rodsAndNodes.leftSupport,\n        rightSupport: state.rodsAndNodes.rightSupport,\n        objWithSolutionFunctions: state.rodsAndNodes.objWithSolutionFunctions,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostProcessor);\n"]},"metadata":{},"sourceType":"module"}