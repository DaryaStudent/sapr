{"ast":null,"code":"import { v4 as uuidv4 } from \"uuid\";\n\nlet rodsAndNodesReducer = (state = initialState, action) => {\n  let value = action.value;\n  let isCorrect = true;\n\n  switch (action.type) {\n    case NEW_ROD_AREA_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        newRodInputRow: { ...state.newRodInputRow,\n          area: value,\n          isAreaCorrect: isCorrect\n        }\n      };\n\n    case NEW_ROD_LENGTH_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        newRodInputRow: { ...state.newRodInputRow,\n          length: value,\n          isLengthCorrect: isCorrect\n        }\n      };\n\n    case NEW_ROD_MODULUS_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        newRodInputRow: { ...state.newRodInputRow,\n          modulus: value,\n          isModulusCorrect: isCorrect\n        }\n      };\n\n    case NEW_ROD_SIGMA_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        newRodInputRow: { ...state.newRodInputRow,\n          sigma: value,\n          isSigmaCorrect: isCorrect\n        }\n      };\n\n    case NEW_ROD_DISTLOAD_CHANGED:\n      if (isNaN(Number(value))) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        newRodInputRow: { ...state.newRodInputRow,\n          distLoad: value,\n          isDistLoadCorrect: isCorrect\n        }\n      };\n\n    case ADD_NEW_ROD:\n      if (state.newRodInputRow.area.length !== 0 && state.newRodInputRow.isAreaCorrect && state.newRodInputRow.length.length !== 0 && state.newRodInputRow.isLengthCorrect && state.newRodInputRow.modulus.length !== 0 && state.newRodInputRow.isModulusCorrect && state.newRodInputRow.sigma.length !== 0 && state.newRodInputRow.isSigmaCorrect && state.newRodInputRow.distLoad.length !== 0 && state.newRodInputRow.isDistLoadCorrect) {\n        let newObj = { ...state,\n          rodsRows: [...state.rodsRows, {\n            index: state.rodsRows.length + 1,\n            area: Number(state.newRodInputRow.area),\n            length: Number(state.newRodInputRow.length),\n            modulus: Number(state.newRodInputRow.modulus),\n            sigma: Number(state.newRodInputRow.sigma),\n            distLoad: Number(state.newRodInputRow.distLoad),\n            reactKey: uuidv4()\n          }],\n          newRodInputRow: {\n            area: \"\",\n            isAreaCorrect: true,\n            length: \"\",\n            isLengthCorrect: true,\n            modulus: \"\",\n            isModulusCorrect: true,\n            sigma: \"\",\n            isSigmaCorrect: true,\n            distLoad: \"\",\n            isDistLoadCorrect: true\n          }\n        };\n        return newObj;\n      } else {\n        return { ...state,\n          newRodInputRow: { ...state.newRodInputRow,\n            isAreaCorrect: state.newRodInputRow.area.length !== 0 && state.newRodInputRow.isAreaCorrect,\n            isLengthCorrect: state.newRodInputRow.length.length !== 0 && state.newRodInputRow.isLengthCorrect,\n            isModulusCorrect: state.newRodInputRow.modulus.length !== 0 && state.newRodInputRow.isModulusCorrect,\n            isSigmaCorrect: state.newRodInputRow.sigma.length !== 0 && state.newRodInputRow.isSigmaCorrect,\n            isDistLoadCorrect: state.newRodInputRow.distLoad.length !== 0 && state.newRodInputRow.isDistLoadCorrect\n          }\n        };\n      }\n\n    case CHANGE_ROD:\n      return { ...state,\n        changingRodIndex: action.index,\n        changingRodInputRow: { ...state.changingRodInputRow,\n          area: state.rodsRows[action.index - 1].area,\n          length: state.rodsRows[action.index - 1].length,\n          modulus: state.rodsRows[action.index - 1].modulus,\n          sigma: state.rodsRows[action.index - 1].sigma,\n          distLoad: state.rodsRows[action.index - 1].distLoad\n        }\n      };\n\n    case CHANGING_ROD_AREA_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingRodInputRow: { ...state.changingRodInputRow,\n          area: value,\n          isAreaCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_ROD_LENGTH_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingRodInputRow: { ...state.changingRodInputRow,\n          length: value,\n          isLengthCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_ROD_MODULUS_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingRodInputRow: { ...state.changingRodInputRow,\n          modulus: value,\n          isModulusCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_ROD_SIGMA_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingRodInputRow: { ...state.changingRodInputRow,\n          sigma: value,\n          isSigmaCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_ROD_DISTLOAD_CHANGED:\n      if (isNaN(Number(value))) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingRodInputRow: { ...state.changingRodInputRow,\n          distLoad: value,\n          isDistLoadCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_ROD_SUBMIT:\n      {\n        if (state.changingRodInputRow.area.length !== 0 && state.changingRodInputRow.isAreaCorrect && state.changingRodInputRow.length.length !== 0 && state.changingRodInputRow.isLengthCorrect && state.changingRodInputRow.modulus.length !== 0 && state.changingRodInputRow.isModulusCorrect && state.changingRodInputRow.sigma.length !== 0 && state.changingRodInputRow.isSigmaCorrect && state.changingRodInputRow.distLoad.length !== 0 && state.changingRodInputRow.isDistLoadCorrect) {\n          let changedRodData = {\n            index: state.changingRodIndex,\n            area: Number(state.changingRodInputRow.area),\n            length: Number(state.changingRodInputRow.length),\n            modulus: Number(state.changingRodInputRow.modulus),\n            sigma: Number(state.changingRodInputRow.sigma),\n            distLoad: Number(state.changingRodInputRow.distLoad)\n          };\n          let changedRodsRows = JSON.parse(JSON.stringify(state.rodsRows));\n          changedRodsRows.splice(state.changingRodIndex - 1, 1, changedRodData);\n          let newObj = { ...state,\n            rodsRows: changedRodsRows,\n            changingRodIndex: null,\n            changingRodInputRow: {\n              area: \"\",\n              isAreaCorrect: true,\n              length: \"\",\n              isLengthCorrect: true,\n              modulus: \"\",\n              isModulusCorrect: true,\n              sigma: \"\",\n              isSigmaCorrect: true,\n              distLoad: \"\",\n              isDistLoadCorrect: true\n            }\n          };\n          return newObj;\n        } else {\n          return { ...state,\n            changingRodInputRow: { ...state.changingRodInputRow,\n              isAreaCorrect: state.changingRodInputRow.area.length !== 0 && state.changingRodInputRow.isAreaCorrect,\n              isLengthCorrect: state.changingRodInputRow.length.length !== 0 && state.changingRodInputRow.isLengthCorrect,\n              isModulusCorrect: state.changingRodInputRow.modulus.length !== 0 && state.changingRodInputRow.isModulusCorrect,\n              isSigmaCorrect: state.changingRodInputRow.sigma.length !== 0 && state.changingRodInputRow.isSigmaCorrect,\n              isDistLoadCorrect: state.changingRodInputRow.distLoad.length !== 0 && state.changingRodInputRow.isDistLoadCorrect\n            }\n          };\n        }\n      }\n\n    case REMOVE_ROD_ROW:\n      let filteredRodsRows = [...state.rodsRows];\n      filteredRodsRows.splice(action.index - 1, 1);\n      filteredRodsRows.forEach((rodRow, index) => {\n        rodRow.index = index + 1;\n      });\n      return { ...state,\n        rodsRows: filteredRodsRows,\n        isReadyForSave: filteredRodsRows.length > 0\n      };\n\n    case ADD_NODE_ROW:\n      if (state.newNodeInputRow.nodeNumber.length !== 0 && state.newNodeInputRow.isNodeNumberCorrect && state.newNodeInputRow.nodeForce.length !== 0 && state.newNodeInputRow.isNodeForceCorrect) {\n        let newNodeData = {\n          nodeNumber: Number(state.newNodeInputRow.nodeNumber),\n          nodeForce: Number(state.newNodeInputRow.nodeForce),\n          reactKey: uuidv4()\n        };\n        return { ...state,\n          nodesRows: [...state.nodesRows, newNodeData],\n          newNodeInputRow: {\n            nodeNumber: \"\",\n            isNodeNumberCorrect: true,\n            nodeForce: \"\",\n            isNodeForceCorrect: true\n          }\n        };\n      } else {\n        return { ...state,\n          newNodeInputRow: { ...state.newNodeInputRow,\n            isNodeNumberCorrect: state.newNodeInputRow.nodeNumber.length !== 0 && state.newNodeInputRow.isNodeNumberCorrect,\n            isNodeForceCorrect: state.newNodeInputRow.nodeForce.length !== 0 && state.newNodeInputRow.isNodeForceCorrect\n          }\n        };\n      }\n\n    case NEW_NODE_NUMBER_CHANGED:\n      {\n        if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n          isCorrect = false;\n        }\n\n        return { ...state,\n          newNodeInputRow: { ...state.newNodeInputRow,\n            nodeNumber: value,\n            isNodeNumberCorrect: isCorrect\n          }\n        };\n      }\n\n    case NEW_NODE_FORCE_CHANGED:\n      {\n        if (isNaN(Number(value)) || value.length === 0) {\n          isCorrect = false;\n        }\n\n        return { ...state,\n          newNodeInputRow: { ...state.newNodeInputRow,\n            nodeForce: value,\n            isNodeForceCorrect: isCorrect\n          }\n        };\n      }\n\n    case CHANGE_NODE:\n      return { ...state,\n        changingNodeIndex: action.index,\n        changingNodeInputRow: { ...state.changingNodeInputRow,\n          nodeNumber: state.nodesRows[action.index].nodeNumber,\n          nodeForce: state.nodesRows[action.index].nodeForce\n        }\n      };\n\n    case CHANGING_NODE_NUMBER_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingNodeInputRow: { ...state.changingNodeInputRow,\n          nodeNumber: value,\n          isNodeNumberCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_NODE_FORCE_CHANGED:\n      if (isNaN(Number(value)) || value.length === 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingNodeInputRow: { ...state.changingNodeInputRow,\n          nodeForce: value,\n          isNodeForceCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_NODE_SUBMIT:\n      if (state.changingNodeInputRow.nodeNumber.length !== 0 && state.changingNodeInputRow.isNodeNumberCorrect && state.changingNodeInputRow.nodeForce.length !== 0 && state.changingNodeInputRow.isNodeForceCorrect) {\n        let changedNodeData = {\n          nodeNumber: Number(state.changingNodeInputRow.nodeNumber),\n          nodeForce: Number(state.changingNodeInputRow.nodeForce),\n          reactKey: uuidv4()\n        };\n        let changedNodesRows = JSON.parse(JSON.stringify(state.nodesRows));\n        changedNodesRows.splice(state.changingNodeIndex, 1, changedNodeData);\n        return { ...state,\n          nodesRows: changedNodesRows,\n          changingNodeIndex: null,\n          changingNodeInputRow: {\n            nodeNumber: \"\",\n            isNodeNumberCorrect: true,\n            nodeForce: \"\",\n            isNodeForceCorrect: true\n          }\n        };\n      } else {\n        return { ...state,\n          newNodeInputRow: { ...state.newNodeInputRow,\n            isNodeNumberCorrect: state.newNodeInputRow.nodeNumber.length !== 0 && state.newNodeInputRow.isNodeNumberCorrect,\n            isNodeForceCorrect: state.newNodeInputRow.nodeForce.length !== 0 && state.newNodeInputRow.isNodeForceCorrect\n          }\n        };\n      }\n\n    case REMOVE_NODE_ROW:\n      let filteredNodesRows = [...state.nodesRows];\n      filteredNodesRows.splice(action.index, 1);\n      return { ...state,\n        nodesRows: filteredNodesRows\n      };\n\n    case CHANGE_LEFT_SUPPORT:\n      if (state.rodsRows.length !== 0) {\n        return { ...state,\n          leftSupport: {\n            nodeNumber: action.isChecked ? 1 : null,\n            isChecked: action.isChecked\n          }\n        };\n      }\n\n      return { ...state,\n        leftSupport: {\n          nodeNumber: null,\n          isChecked: action.isChecked\n        }\n      };\n\n    case CHANGE_RIGHT_SUPPORT:\n      if (state.rodsRows.length !== 0) {\n        return { ...state,\n          rightSupport: {\n            nodeNumber: action.isChecked ? state.rodsRows.length + 1 : null,\n            isChecked: action.isChecked\n          }\n        };\n      }\n\n      return { ...state,\n        rightSupport: {\n          nodeNumber: null,\n          isChecked: action.isChecked\n        }\n      };\n\n    case CHECK_FOR_ERROR:\n      if (!(state.leftSupport.isChecked || state.rightSupport.isChecked)) {\n        return { ...state,\n          isError: true,\n          isCanvasShown: false,\n          errorMessage: \"В конструкции должна быть хотя бы одна заделка\",\n          isReadyForSave: false\n        };\n      } else if (state.changingRodIndex !== null) {\n        return { ...state,\n          isError: true,\n          isCanvasShown: false,\n          errorMessage: \"Закончите изменение стержня\",\n          isReadyForSave: false\n        };\n      } else if (state.rodsRows.length < 1) {\n        return { ...state,\n          isError: true,\n          isCanvasShown: false,\n          errorMessage: \"В конструкции отсутствуют стержни\",\n          isReadyForSave: false\n        };\n      } else if (state.rodsRows.length === 0 && state.nodesRows.length !== 0 || state.rodsRows.length >= 1 && Math.max(...state.nodesRows.map(node => node.nodeNumber)) > state.rodsRows.length + 1) {\n        return { ...state,\n          isError: true,\n          isCanvasShown: false,\n          errorMessage: `Узел ${Math.max(...state.nodesRows.map(node => node.nodeNumber))} не существует в конструкции`,\n          isReadyForSave: false\n        };\n      } else {\n        return { ...state,\n          isError: false,\n          isCanvasShown: true,\n          errorMessage: \"\",\n          isReadyForSave: true\n        };\n      }\n\n    case SET_NEW_letRUCTION_FROM_FILE_DATA:\n      {\n        return { ...action.newletructionObj\n        };\n      }\n\n    case SAVE_SOLUTION:\n      return { ...state,\n        objWithSolutionFunctions: action.solution\n      };\n\n    case CLEAR_SOLUTION:\n      return { ...state,\n        objWithSolutionFunctions: null\n      };\n\n    case SHOW_CANVAS:\n      return { ...state,\n        isCanvasShown: true\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default rodsAndNodesReducer;\nlet CHANGE_LEFT_SUPPORT = \"CHANGE_LEFT_SUPPORT\";\nlet CHANGE_RIGHT_SUPPORT = \"CHANGE_RIGHT_SUPPORT\";\nexport let addNewRod = () => ({\n  type: ADD_NEW_ROD\n});\nexport let newRodAreaChanged = value => ({\n  type: NEW_ROD_AREA_CHANGED,\n  value\n});\nexport let newRodLengthChanged = value => ({\n  type: NEW_ROD_LENGTH_CHANGED,\n  value\n});\nexport let newRodModulusChanged = value => ({\n  type: NEW_ROD_MODULUS_CHANGED,\n  value\n});\nexport let newRodSigmaChanged = value => ({\n  type: NEW_ROD_SIGMA_CHANGED,\n  value\n});\nlet CHANGING_NODE_NUMBER_CHANGED = \"CHANGING_NODE_NUMBER_CHANGED\";\nlet CHANGING_NODE_FORCE_CHANGED = \"CHANGING_NODE_FORCE_CHANGED\";\nlet CHANGING_NODE_SUBMIT = \"CHANGING_NODE_SUBMIT\";\nexport let newRodDistLoadChanged = value => ({\n  type: NEW_ROD_DISTLOAD_CHANGED,\n  value\n});\nexport let changeRod = index => ({\n  type: CHANGE_ROD,\n  index\n});\nexport let changingRodAreaChanged = value => ({\n  type: CHANGING_ROD_AREA_CHANGED,\n  value\n});\nexport let changingRodLengthChanged = value => ({\n  type: CHANGING_ROD_LENGTH_CHANGED,\n  value\n});\nexport let changingRodModulusChanged = value => ({\n  type: CHANGING_ROD_MODULUS_CHANGED,\n  value\n});\nexport let changingRodSigmaChanged = value => ({\n  type: CHANGING_ROD_SIGMA_CHANGED,\n  value\n});\nexport let changingRodDistLoadChanged = value => ({\n  type: CHANGING_ROD_DISTLOAD_CHANGED,\n  value\n});\nexport let changingRodSubmit = () => ({\n  type: CHANGING_ROD_SUBMIT\n});\nexport let removeRodRow = index => ({\n  type: REMOVE_ROD_ROW,\n  index\n});\nexport let addNodeRow = () => ({\n  type: ADD_NODE_ROW\n});\nexport let removeNodeRow = index => ({\n  type: REMOVE_NODE_ROW,\n  index\n});\nexport let changeNode = index => ({\n  type: CHANGE_NODE,\n  index\n});\nexport let newNodeNumberChanged = value => ({\n  type: NEW_NODE_NUMBER_CHANGED,\n  value\n});\nexport let newNodeForceChanged = value => ({\n  type: NEW_NODE_FORCE_CHANGED,\n  value\n});\nexport let changingNodeNumberChanged = value => ({\n  type: CHANGING_NODE_NUMBER_CHANGED,\n  value\n});\nexport let changingNodeForceChanged = value => ({\n  type: CHANGING_NODE_FORCE_CHANGED,\n  value\n});\nexport let changingNodeSubmit = () => ({\n  type: CHANGING_NODE_SUBMIT\n});\nexport let changeLeftSupport = isChecked => ({\n  type: CHANGE_LEFT_SUPPORT,\n  isChecked\n});\nexport let changeRightSupport = isChecked => ({\n  type: CHANGE_RIGHT_SUPPORT,\n  isChecked\n});\nexport let checkForError = () => ({\n  type: CHECK_FOR_ERROR\n});\nexport let downloadletruction = () => (dispatch, getState) => {\n  dispatch(checkForError());\n\n  if (getState().rodsAndNodes.isReadyForSave) {\n    let state = getState().rodsAndNodes;\n    let objForDownload = {\n      rods: state.rodsRows.map(rod => {\n        return [rod.area, rod.length, rod.modulus, rod.sigma, rod.distLoad];\n      }),\n      nodes: state.nodesRows.map(node => [node.nodeNumber, node.nodeForce]),\n      left: state.leftSupport.nodeNumber ? true : false,\n      right: state.rightSupport.nodeNumber ? true : false\n    };\n    let a = document.createElement(\"a\");\n    a.setAttribute(\"download\", \"letruction.json\");\n    a.href = \"data:text/plain;charset=utf-8,\" + encodeURIComponent(JSON.stringify(objForDownload, null, \"\\t\"));\n    a.click();\n  }\n};\nexport let setNewletructionFromFileData = newletructionObj => ({\n  type: SET_NEW_letRUCTION_FROM_FILE_DATA,\n  newletructionObj\n});\nexport let showFileReadingError = message => ({\n  type: SHOW_letRUCTION_FROM_FILE_ERROR,\n  message\n});\nlet CHANGE_ROD = \"CHANGE_ROD\";\nlet CHANGING_ROD_AREA_CHANGED = \"CHANGING_ROD_AREA_CHANGED\";\nlet CHANGING_ROD_LENGTH_CHANGED = \"CHANGING_ROD_LENGTH_CHANGED\";\nlet CHANGING_ROD_MODULUS_CHANGED = \"CHANGING_ROD_MODULUS_CHANGED\";\nlet CHANGING_ROD_SIGMA_CHANGED = \"CHANGING_ROD_SIGMA_CHANGED\";\nlet CHANGING_ROD_DISTLOAD_CHANGED = \"CHANGING_ROD_DISTLOAD_CHANGED\";\nlet CHANGING_ROD_SUBMIT = \"CHANGING_ROD_SUBMIT\";\nexport let handleFileOpening = inputRef => (dispatch, getState) => {\n  let reader = new FileReader();\n\n  reader.onload = () => {\n    let data = JSON.parse(reader.result);\n    let newletructionObj = {};\n    newletructionObj.rodsRows = data.rods.map((rodData, index) => {\n      return {\n        index: index + 1,\n        area: rodData[0],\n        length: rodData[1],\n        modulus: rodData[2],\n        sigma: rodData[3],\n        distLoad: rodData[4],\n        reactKey: uuidv4()\n      };\n    });\n    newletructionObj.nodesRows = data.nodes.map((nodeData, index) => {\n      return {\n        nodeNumber: nodeData[0],\n        nodeForce: nodeData[1],\n        reactKey: uuidv4()\n      };\n    });\n    newletructionObj.leftSupport = {\n      nodeNumber: data.left ? 1 : null,\n      isChecked: data.left\n    };\n    newletructionObj.rightSupport = {\n      nodeNumber: data.right ? newletructionObj.rodsRows.length + 1 : null,\n      isChecked: data.right\n    };\n    newletructionObj.changingRodIndex = null;\n    newletructionObj.changingRodInputRow = {\n      area: \"\",\n      isAreaCorrect: true,\n      length: \"\",\n      isLengthCorrect: true,\n      modulus: \"\",\n      isModulusCorrect: true,\n      sigma: \"\",\n      isSigmaCorrect: true,\n      distLoad: \"\",\n      isDistLoadCorrect: true\n    };\n    newletructionObj.newRodInputRow = {\n      area: \"\",\n      isAreaCorrect: true,\n      length: \"\",\n      isLengthCorrect: true,\n      modulus: \"\",\n      isModulusCorrect: true,\n      sigma: \"\",\n      isSigmaCorrect: true,\n      distLoad: \"\",\n      isDistLoadCorrect: true\n    };\n    newletructionObj.newNodeInputRow = {\n      nodeNumber: \"\",\n      isNodeNumberCorrect: true,\n      nodeForce: \"\",\n      isNodeForceCorrect: true\n    };\n    newletructionObj.changingNodeIndex = null;\n    newletructionObj.changingNodeInputRow = {\n      nodeNumber: \"\",\n      isNodeNumberCorrect: true,\n      nodeForce: \"\",\n      isNodeForceCorrect: true\n    };\n    newletructionObj.isError = false;\n    newletructionObj.errorMessage = \"\";\n    newletructionObj.isReadyForSave = true;\n    newletructionObj.objWithSolutionFunctions = null;\n    dispatch(setNewletructionFromFileData(newletructionObj));\n  };\n\n  reader.readAsText(inputRef.current.files[0]);\n};\nexport let saveSolution = solutionObj => ({\n  type: SAVE_SOLUTION,\n  solution: solutionObj\n});\nlet ADD_NEW_ROD = \"ADD_NEW_ROD\";\nlet NEW_ROD_AREA_CHANGED = \"NEW_ROD_AREA_CHANGED\";\nlet NEW_ROD_LENGTH_CHANGED = \"NEW_ROD_LENGTH_CHANGED\";\nlet NEW_ROD_MODULUS_CHANGED = \"NEW_ROD_MODULUS_CHANGED\";\nlet NEW_ROD_SIGMA_CHANGED = \"NEW_ROD_SIGMA_CHANGED\";\nlet NEW_ROD_DISTLOAD_CHANGED = \"NEW_ROD_DISTLOAD_CHANGED\";\nexport let clearSolution = () => ({\n  type: CLEAR_SOLUTION\n});\nexport let showCanvas = () => ({\n  type: SHOW_CANVAS\n});\nlet REMOVE_ROD_ROW = \"REMOVE_ROD_ROW\";\nlet ADD_NODE_ROW = \"ADD_NODE_ROW\";\nlet NEW_NODE_NUMBER_CHANGED = \"NEW_NODE_NUMBER_CHANGED\";\nlet NEW_NODE_FORCE_CHANGED = \"NEW_NODE_FORCE_CHANGED\";\nlet CHANGE_NODE = \"CHANGE_NODE\";\nlet REMOVE_NODE_ROW = \"REMOVE_NODE_ROW\";\nlet CHECK_FOR_ERROR = \"CHECK_FOR_ERROR\";\nlet SHOW_letRUCTION_FROM_FILE_ERROR = \"SHOW_letRUCTION_FROM_FILE_ERROR\";\nlet SET_NEW_letRUCTION_FROM_FILE_DATA = \"SET_NEW_letRUCTION_FROM_FILE_DATA\";\nlet SAVE_SOLUTION = \"SAVE_SOLUTION\";\nlet CLEAR_SOLUTION = \"CLEAR_SOLUTION\";\nlet SHOW_CANVAS = \"SHOW_CANVAS\";\nlet initialState = {\n  rodsRows: [],\n  nodesRows: [],\n  changingRodIndex: null,\n  newRodInputRow: {\n    area: \"\",\n    isAreaCorrect: true,\n    length: \"\",\n    isLengthCorrect: true,\n    modulus: \"\",\n    isModulusCorrect: true,\n    sigma: \"\",\n    isSigmaCorrect: true,\n    distLoad: \"\",\n    isDistLoadCorrect: true\n  },\n  changingRodInputRow: {\n    area: \"\",\n    isAreaCorrect: true,\n    length: \"\",\n    isLengthCorrect: true,\n    modulus: \"\",\n    isModulusCorrect: true,\n    sigma: \"\",\n    isSigmaCorrect: true,\n    distLoad: \"\",\n    isDistLoadCorrect: true\n  },\n  changingNodeInputRow: {\n    nodeNumber: \"\",\n    isNodeNumberCorrect: true,\n    nodeForce: \"\",\n    isNodeForceCorrect: true\n  },\n  newNodeInputRow: {\n    nodeNumber: \"\",\n    isNodeNumberCorrect: true,\n    nodeForce: \"\",\n    isNodeForceCorrect: true\n  },\n  changingNodeIndex: null,\n  leftSupport: {\n    nodeNumber: null,\n    isChecked: false\n  },\n  rightSupport: {\n    nodeNumber: null,\n    isChecked: false\n  },\n  isError: false,\n  errorMessage: \"Конструкция не введена\",\n  isReadyForSave: false,\n  objWithSolutionFunctions: null,\n  isCanvasShown: false\n};","map":{"version":3,"sources":["C:/Users/glush/Desktop/react-sapr-main/src/reducers/reducer.js"],"names":["v4","uuidv4","rodsAndNodesReducer","state","initialState","action","value","isCorrect","type","NEW_ROD_AREA_CHANGED","isNaN","Number","length","newRodInputRow","area","isAreaCorrect","NEW_ROD_LENGTH_CHANGED","isLengthCorrect","NEW_ROD_MODULUS_CHANGED","modulus","isModulusCorrect","NEW_ROD_SIGMA_CHANGED","sigma","isSigmaCorrect","NEW_ROD_DISTLOAD_CHANGED","distLoad","isDistLoadCorrect","ADD_NEW_ROD","newObj","rodsRows","index","reactKey","CHANGE_ROD","changingRodIndex","changingRodInputRow","CHANGING_ROD_AREA_CHANGED","CHANGING_ROD_LENGTH_CHANGED","CHANGING_ROD_MODULUS_CHANGED","CHANGING_ROD_SIGMA_CHANGED","CHANGING_ROD_DISTLOAD_CHANGED","CHANGING_ROD_SUBMIT","changedRodData","changedRodsRows","JSON","parse","stringify","splice","REMOVE_ROD_ROW","filteredRodsRows","forEach","rodRow","isReadyForSave","ADD_NODE_ROW","newNodeInputRow","nodeNumber","isNodeNumberCorrect","nodeForce","isNodeForceCorrect","newNodeData","nodesRows","NEW_NODE_NUMBER_CHANGED","NEW_NODE_FORCE_CHANGED","CHANGE_NODE","changingNodeIndex","changingNodeInputRow","CHANGING_NODE_NUMBER_CHANGED","CHANGING_NODE_FORCE_CHANGED","CHANGING_NODE_SUBMIT","changedNodeData","changedNodesRows","REMOVE_NODE_ROW","filteredNodesRows","CHANGE_LEFT_SUPPORT","leftSupport","isChecked","CHANGE_RIGHT_SUPPORT","rightSupport","CHECK_FOR_ERROR","isError","isCanvasShown","errorMessage","Math","max","map","node","SET_NEW_letRUCTION_FROM_FILE_DATA","newletructionObj","SAVE_SOLUTION","objWithSolutionFunctions","solution","CLEAR_SOLUTION","SHOW_CANVAS","addNewRod","newRodAreaChanged","newRodLengthChanged","newRodModulusChanged","newRodSigmaChanged","newRodDistLoadChanged","changeRod","changingRodAreaChanged","changingRodLengthChanged","changingRodModulusChanged","changingRodSigmaChanged","changingRodDistLoadChanged","changingRodSubmit","removeRodRow","addNodeRow","removeNodeRow","changeNode","newNodeNumberChanged","newNodeForceChanged","changingNodeNumberChanged","changingNodeForceChanged","changingNodeSubmit","changeLeftSupport","changeRightSupport","checkForError","downloadletruction","dispatch","getState","rodsAndNodes","objForDownload","rods","rod","nodes","left","right","a","document","createElement","setAttribute","href","encodeURIComponent","click","setNewletructionFromFileData","showFileReadingError","message","SHOW_letRUCTION_FROM_FILE_ERROR","handleFileOpening","inputRef","reader","FileReader","onload","data","result","rodData","nodeData","readAsText","current","files","saveSolution","solutionObj","clearSolution","showCanvas"],"mappings":"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","sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\n\nlet rodsAndNodesReducer = (state = initialState, action) => {\n    let value = action.value;\n    let isCorrect = true;\n\n    switch (action.type) {\n        case NEW_ROD_AREA_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newRodInputRow: {\n                    ...state.newRodInputRow,\n                    area: value,\n                    isAreaCorrect: isCorrect,\n                },\n            };\n        case NEW_ROD_LENGTH_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newRodInputRow: {\n                    ...state.newRodInputRow,\n                    length: value,\n                    isLengthCorrect: isCorrect,\n                },\n            };\n        case NEW_ROD_MODULUS_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newRodInputRow: {\n                    ...state.newRodInputRow,\n                    modulus: value,\n                    isModulusCorrect: isCorrect,\n                },\n            };\n        case NEW_ROD_SIGMA_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newRodInputRow: {\n                    ...state.newRodInputRow,\n                    sigma: value,\n                    isSigmaCorrect: isCorrect,\n                },\n            };\n        case NEW_ROD_DISTLOAD_CHANGED:\n            if (isNaN(Number(value))) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newRodInputRow: {\n                    ...state.newRodInputRow,\n                    distLoad: value,\n                    isDistLoadCorrect: isCorrect,\n                },\n            };\n        case ADD_NEW_ROD:\n            if (\n                state.newRodInputRow.area.length !== 0 &&\n                state.newRodInputRow.isAreaCorrect &&\n                state.newRodInputRow.length.length !== 0 &&\n                state.newRodInputRow.isLengthCorrect &&\n                state.newRodInputRow.modulus.length !== 0 &&\n                state.newRodInputRow.isModulusCorrect &&\n                state.newRodInputRow.sigma.length !== 0 &&\n                state.newRodInputRow.isSigmaCorrect &&\n                state.newRodInputRow.distLoad.length !== 0 &&\n                state.newRodInputRow.isDistLoadCorrect\n            ) {\n                let newObj = {\n                    ...state,\n                    rodsRows: [\n                        ...state.rodsRows,\n                        {\n                            index: state.rodsRows.length + 1,\n                            area: Number(state.newRodInputRow.area),\n                            length: Number(state.newRodInputRow.length),\n                            modulus: Number(state.newRodInputRow.modulus),\n                            sigma: Number(state.newRodInputRow.sigma),\n                            distLoad: Number(state.newRodInputRow.distLoad),\n                            reactKey: uuidv4(),\n                        },\n                    ],\n                    newRodInputRow: {\n                        area: \"\",\n                        isAreaCorrect: true,\n                        length: \"\",\n                        isLengthCorrect: true,\n                        modulus: \"\",\n                        isModulusCorrect: true,\n                        sigma: \"\",\n                        isSigmaCorrect: true,\n                        distLoad: \"\",\n                        isDistLoadCorrect: true,\n                    },\n                };\n                return newObj;\n            } else {\n                return {\n                    ...state,\n                    newRodInputRow: {\n                        ...state.newRodInputRow,\n                        isAreaCorrect:\n                            state.newRodInputRow.area.length !== 0 &&\n                            state.newRodInputRow.isAreaCorrect,\n                        isLengthCorrect:\n                            state.newRodInputRow.length.length !== 0 &&\n                            state.newRodInputRow.isLengthCorrect,\n                        isModulusCorrect:\n                            state.newRodInputRow.modulus.length !== 0 &&\n                            state.newRodInputRow.isModulusCorrect,\n                        isSigmaCorrect:\n                            state.newRodInputRow.sigma.length !== 0 &&\n                            state.newRodInputRow.isSigmaCorrect,\n                        isDistLoadCorrect:\n                            state.newRodInputRow.distLoad.length !== 0 &&\n                            state.newRodInputRow.isDistLoadCorrect,\n                    },\n                };\n            }\n        case CHANGE_ROD:\n            return {\n                ...state,\n                changingRodIndex: action.index,\n                changingRodInputRow: {\n                    ...state.changingRodInputRow,\n                    area: state.rodsRows[action.index - 1].area,\n                    length: state.rodsRows[action.index - 1].length,\n                    modulus: state.rodsRows[action.index - 1].modulus,\n                    sigma: state.rodsRows[action.index - 1].sigma,\n                    distLoad: state.rodsRows[action.index - 1].distLoad,\n                },\n            };\n        case CHANGING_ROD_AREA_CHANGED:\n            if (isNaN(Number(value)) || Number(value) <= 0) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingRodInputRow: {\n                    ...state.changingRodInputRow,\n                    area: value,\n                    isAreaCorrect: isCorrect,\n                },\n            };\n        case CHANGING_ROD_LENGTH_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingRodInputRow: {\n                    ...state.changingRodInputRow,\n                    length: value,\n                    isLengthCorrect: isCorrect,\n                },\n            };\n        case CHANGING_ROD_MODULUS_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingRodInputRow: {\n                    ...state.changingRodInputRow,\n                    modulus: value,\n                    isModulusCorrect: isCorrect,\n                },\n            };\n        case CHANGING_ROD_SIGMA_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingRodInputRow: {\n                    ...state.changingRodInputRow,\n                    sigma: value,\n                    isSigmaCorrect: isCorrect,\n                },\n            };\n        case CHANGING_ROD_DISTLOAD_CHANGED:\n            if (isNaN(Number(value))) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingRodInputRow: {\n                    ...state.changingRodInputRow,\n                    distLoad: value,\n                    isDistLoadCorrect: isCorrect,\n                },\n            };\n        case CHANGING_ROD_SUBMIT: {\n            if (\n                state.changingRodInputRow.area.length !== 0 &&\n                state.changingRodInputRow.isAreaCorrect &&\n                state.changingRodInputRow.length.length !== 0 &&\n                state.changingRodInputRow.isLengthCorrect &&\n                state.changingRodInputRow.modulus.length !== 0 &&\n                state.changingRodInputRow.isModulusCorrect &&\n                state.changingRodInputRow.sigma.length !== 0 &&\n                state.changingRodInputRow.isSigmaCorrect &&\n                state.changingRodInputRow.distLoad.length !== 0 &&\n                state.changingRodInputRow.isDistLoadCorrect\n            ) {\n                let changedRodData = {\n                    index: state.changingRodIndex,\n                    area: Number(state.changingRodInputRow.area),\n                    length: Number(state.changingRodInputRow.length),\n                    modulus: Number(state.changingRodInputRow.modulus),\n                    sigma: Number(state.changingRodInputRow.sigma),\n                    distLoad: Number(state.changingRodInputRow.distLoad),\n                };\n                let changedRodsRows = JSON.parse(\n                    JSON.stringify(state.rodsRows)\n                );\n                changedRodsRows.splice(\n                    state.changingRodIndex - 1,\n                    1,\n                    changedRodData\n                );\n\n                let newObj = {\n                    ...state,\n                    rodsRows: changedRodsRows,\n                    changingRodIndex: null,\n                    changingRodInputRow: {\n                        area: \"\",\n                        isAreaCorrect: true,\n                        length: \"\",\n                        isLengthCorrect: true,\n                        modulus: \"\",\n                        isModulusCorrect: true,\n                        sigma: \"\",\n                        isSigmaCorrect: true,\n                        distLoad: \"\",\n                        isDistLoadCorrect: true,\n                    },\n                };\n                return newObj;\n            } else {\n                return {\n                    ...state,\n                    changingRodInputRow: {\n                        ...state.changingRodInputRow,\n                        isAreaCorrect:\n                            state.changingRodInputRow.area.length !== 0 &&\n                            state.changingRodInputRow.isAreaCorrect,\n                        isLengthCorrect:\n                            state.changingRodInputRow.length.length !== 0 &&\n                            state.changingRodInputRow.isLengthCorrect,\n                        isModulusCorrect:\n                            state.changingRodInputRow.modulus.length !== 0 &&\n                            state.changingRodInputRow.isModulusCorrect,\n                        isSigmaCorrect:\n                            state.changingRodInputRow.sigma.length !== 0 &&\n                            state.changingRodInputRow.isSigmaCorrect,\n                        isDistLoadCorrect:\n                            state.changingRodInputRow.distLoad.length !== 0 &&\n                            state.changingRodInputRow.isDistLoadCorrect,\n                    },\n                };\n            }\n        }\n        case REMOVE_ROD_ROW:\n            let filteredRodsRows = [...state.rodsRows];\n            filteredRodsRows.splice(action.index - 1, 1);\n            filteredRodsRows.forEach((rodRow, index) => {\n                rodRow.index = index + 1;\n            });\n\n            return {\n                ...state,\n                rodsRows: filteredRodsRows,\n                isReadyForSave: filteredRodsRows.length > 0,\n            };\n        case ADD_NODE_ROW:\n            if (\n                state.newNodeInputRow.nodeNumber.length !== 0 &&\n                state.newNodeInputRow.isNodeNumberCorrect &&\n                state.newNodeInputRow.nodeForce.length !== 0 &&\n                state.newNodeInputRow.isNodeForceCorrect\n            ) {\n                let newNodeData = {\n                    nodeNumber: Number(state.newNodeInputRow.nodeNumber),\n                    nodeForce: Number(state.newNodeInputRow.nodeForce),\n                    reactKey: uuidv4(),\n                };\n                return {\n                    ...state,\n                    nodesRows: [...state.nodesRows, newNodeData],\n                    newNodeInputRow: {\n                        nodeNumber: \"\",\n                        isNodeNumberCorrect: true,\n                        nodeForce: \"\",\n                        isNodeForceCorrect: true,\n                    },\n                };\n            } else {\n                return {\n                    ...state,\n                    newNodeInputRow: {\n                        ...state.newNodeInputRow,\n                        isNodeNumberCorrect:\n                            state.newNodeInputRow.nodeNumber.length !== 0 &&\n                            state.newNodeInputRow.isNodeNumberCorrect,\n                        isNodeForceCorrect:\n                            state.newNodeInputRow.nodeForce.length !== 0 &&\n                            state.newNodeInputRow.isNodeForceCorrect,\n                    },\n                };\n            }\n        case NEW_NODE_NUMBER_CHANGED: {\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newNodeInputRow: {\n                    ...state.newNodeInputRow,\n                    nodeNumber: value,\n                    isNodeNumberCorrect: isCorrect,\n                },\n            };\n        }\n        case NEW_NODE_FORCE_CHANGED: {\n            if (isNaN(Number(value)) || value.length === 0) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newNodeInputRow: {\n                    ...state.newNodeInputRow,\n                    nodeForce: value,\n                    isNodeForceCorrect: isCorrect,\n                },\n            };\n        }\n        case CHANGE_NODE:\n            return {\n                ...state,\n                changingNodeIndex: action.index,\n                changingNodeInputRow: {\n                    ...state.changingNodeInputRow,\n                    nodeNumber: state.nodesRows[action.index].nodeNumber,\n                    nodeForce: state.nodesRows[action.index].nodeForce,\n                },\n            };\n        case CHANGING_NODE_NUMBER_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingNodeInputRow: {\n                    ...state.changingNodeInputRow,\n                    nodeNumber: value,\n                    isNodeNumberCorrect: isCorrect,\n                },\n            };\n        case CHANGING_NODE_FORCE_CHANGED:\n            if (isNaN(Number(value)) || value.length === 0) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingNodeInputRow: {\n                    ...state.changingNodeInputRow,\n                    nodeForce: value,\n                    isNodeForceCorrect: isCorrect,\n                },\n            };\n        case CHANGING_NODE_SUBMIT:\n            if (\n                state.changingNodeInputRow.nodeNumber.length !== 0 &&\n                state.changingNodeInputRow.isNodeNumberCorrect &&\n                state.changingNodeInputRow.nodeForce.length !== 0 &&\n                state.changingNodeInputRow.isNodeForceCorrect\n            ) {\n                let changedNodeData = {\n                    nodeNumber: Number(state.changingNodeInputRow.nodeNumber),\n                    nodeForce: Number(state.changingNodeInputRow.nodeForce),\n                    reactKey: uuidv4(),\n                };\n                let changedNodesRows = JSON.parse(\n                    JSON.stringify(state.nodesRows)\n                );\n                changedNodesRows.splice(\n                    state.changingNodeIndex,\n                    1,\n                    changedNodeData\n                );\n                return {\n                    ...state,\n                    nodesRows: changedNodesRows,\n                    changingNodeIndex: null,\n                    changingNodeInputRow: {\n                        nodeNumber: \"\",\n                        isNodeNumberCorrect: true,\n                        nodeForce: \"\",\n                        isNodeForceCorrect: true,\n                    },\n                };\n            } else {\n                return {\n                    ...state,\n                    newNodeInputRow: {\n                        ...state.newNodeInputRow,\n                        isNodeNumberCorrect:\n                            state.newNodeInputRow.nodeNumber.length !== 0 &&\n                            state.newNodeInputRow.isNodeNumberCorrect,\n                        isNodeForceCorrect:\n                            state.newNodeInputRow.nodeForce.length !== 0 &&\n                            state.newNodeInputRow.isNodeForceCorrect,\n                    },\n                };\n            }\n        case REMOVE_NODE_ROW:\n            let filteredNodesRows = [...state.nodesRows];\n            filteredNodesRows.splice(action.index, 1);\n            return {\n                ...state,\n                nodesRows: filteredNodesRows,\n            };\n\n        case CHANGE_LEFT_SUPPORT:\n            if (state.rodsRows.length !== 0) {\n                return {\n                    ...state,\n                    leftSupport: {\n                        nodeNumber: action.isChecked ? 1 : null,\n                        isChecked: action.isChecked,\n                    },\n                };\n            }\n            return {\n                ...state,\n                leftSupport: {\n                    nodeNumber: null,\n                    isChecked: action.isChecked,\n                },\n            };\n        case CHANGE_RIGHT_SUPPORT:\n            if (state.rodsRows.length !== 0) {\n                return {\n                    ...state,\n                    rightSupport: {\n                        nodeNumber: action.isChecked\n                            ? state.rodsRows.length + 1\n                            : null,\n                        isChecked: action.isChecked,\n                    },\n                };\n            }\n            return {\n                ...state,\n                rightSupport: {\n                    nodeNumber: null,\n                    isChecked: action.isChecked,\n                },\n            };\n        case CHECK_FOR_ERROR:\n            if (\n                !(state.leftSupport.isChecked || state.rightSupport.isChecked)\n            ) {\n                return {\n                    ...state,\n                    isError: true,\n                    isCanvasShown: false,\n                    errorMessage:\n                        \"В конструкции должна быть хотя бы одна заделка\",\n                    isReadyForSave: false,\n                };\n            } else if (state.changingRodIndex !== null) {\n                return {\n                    ...state,\n                    isError: true,\n                    isCanvasShown: false,\n                    errorMessage: \"Закончите изменение стержня\",\n                    isReadyForSave: false,\n                };\n            } else if (state.rodsRows.length < 1) {\n                return {\n                    ...state,\n                    isError: true,\n                    isCanvasShown: false,\n                    errorMessage: \"В конструкции отсутствуют стержни\",\n                    isReadyForSave: false,\n                };\n            } else if (\n                (state.rodsRows.length === 0 && state.nodesRows.length !== 0) ||\n                (state.rodsRows.length >= 1 &&\n                    Math.max(\n                        ...state.nodesRows.map((node) => node.nodeNumber)\n                    ) >\n                        state.rodsRows.length + 1)\n            ) {\n                return {\n                    ...state,\n                    isError: true,\n                    isCanvasShown: false,\n                    errorMessage: `Узел ${Math.max(\n                        ...state.nodesRows.map((node) => node.nodeNumber)\n                    )} не существует в конструкции`,\n                    isReadyForSave: false,\n                };\n            } else {\n                return {\n                    ...state,\n                    isError: false,\n                    isCanvasShown: true,\n                    errorMessage: \"\",\n                    isReadyForSave: true,\n                };\n            }\n        case SET_NEW_letRUCTION_FROM_FILE_DATA: {\n            return {\n                ...action.newletructionObj,\n            };\n        }\n        case SAVE_SOLUTION:\n            return {\n                ...state,\n                objWithSolutionFunctions: action.solution,\n            };\n        case CLEAR_SOLUTION:\n            return {\n                ...state,\n                objWithSolutionFunctions: null,\n            };\n        case SHOW_CANVAS :\n            return {\n                ...state,\n                isCanvasShown: true\n            }\n        default:\n            return state;\n    }\n};\n\nexport default rodsAndNodesReducer;\n\nlet CHANGE_LEFT_SUPPORT = \"CHANGE_LEFT_SUPPORT\";\nlet CHANGE_RIGHT_SUPPORT = \"CHANGE_RIGHT_SUPPORT\";\n\nexport let addNewRod = () => ({ type: ADD_NEW_ROD });\nexport let newRodAreaChanged = (value) => ({\n    type: NEW_ROD_AREA_CHANGED,\n    value,\n});\nexport let newRodLengthChanged = (value) => ({\n    type: NEW_ROD_LENGTH_CHANGED,\n    value,\n});\nexport let newRodModulusChanged = (value) => ({\n    type: NEW_ROD_MODULUS_CHANGED,\n    value,\n});\nexport let newRodSigmaChanged = (value) => ({\n    type: NEW_ROD_SIGMA_CHANGED,\n    value,\n});\n\nlet CHANGING_NODE_NUMBER_CHANGED = \"CHANGING_NODE_NUMBER_CHANGED\";\nlet CHANGING_NODE_FORCE_CHANGED = \"CHANGING_NODE_FORCE_CHANGED\";\nlet CHANGING_NODE_SUBMIT = \"CHANGING_NODE_SUBMIT\";\n\nexport let newRodDistLoadChanged = (value) => ({\n    type: NEW_ROD_DISTLOAD_CHANGED,\n    value,\n});\n\nexport let changeRod = (index) => ({\n    type: CHANGE_ROD,\n    index,\n});\nexport let changingRodAreaChanged = (value) => ({\n    type: CHANGING_ROD_AREA_CHANGED,\n    value,\n});\nexport let changingRodLengthChanged = (value) => ({\n    type: CHANGING_ROD_LENGTH_CHANGED,\n    value,\n});\nexport let changingRodModulusChanged = (value) => ({\n    type: CHANGING_ROD_MODULUS_CHANGED,\n    value,\n});\nexport let changingRodSigmaChanged = (value) => ({\n    type: CHANGING_ROD_SIGMA_CHANGED,\n    value,\n});\nexport let changingRodDistLoadChanged = (value) => ({\n    type: CHANGING_ROD_DISTLOAD_CHANGED,\n    value,\n});\n\nexport let changingRodSubmit = () => ({\n    type: CHANGING_ROD_SUBMIT,\n});\n\nexport let removeRodRow = (index) => ({\n    type: REMOVE_ROD_ROW,\n    index,\n});\n\nexport let addNodeRow = () => ({\n    type: ADD_NODE_ROW,\n});\n\nexport let removeNodeRow = (index) => ({\n    type: REMOVE_NODE_ROW,\n    index,\n});\n\nexport let changeNode = (index) => ({\n    type: CHANGE_NODE,\n    index,\n});\n\nexport let newNodeNumberChanged = (value) => ({\n    type: NEW_NODE_NUMBER_CHANGED,\n    value,\n});\n\nexport let newNodeForceChanged = (value) => ({\n    type: NEW_NODE_FORCE_CHANGED,\n    value,\n});\n\nexport let changingNodeNumberChanged = (value) => ({\n    type: CHANGING_NODE_NUMBER_CHANGED,\n    value,\n});\n\nexport let changingNodeForceChanged = (value) => ({\n    type: CHANGING_NODE_FORCE_CHANGED,\n    value,\n});\n\nexport let changingNodeSubmit = () => ({\n    type: CHANGING_NODE_SUBMIT,\n});\n\nexport let changeLeftSupport = (isChecked) => ({\n    type: CHANGE_LEFT_SUPPORT,\n    isChecked,\n});\n\nexport let changeRightSupport = (isChecked) => ({\n    type: CHANGE_RIGHT_SUPPORT,\n    isChecked,\n});\n\nexport let checkForError = () => ({ type: CHECK_FOR_ERROR });\n\nexport let downloadletruction = () => (dispatch, getState) => {\n    dispatch(checkForError());\n    if (getState().rodsAndNodes.isReadyForSave) {\n        let state = getState().rodsAndNodes;\n        let objForDownload = {\n            rods: state.rodsRows.map((rod) => {\n                return [\n                    rod.area,\n                    rod.length,\n                    rod.modulus,\n                    rod.sigma,\n                    rod.distLoad,\n                ];\n            }),\n            nodes: state.nodesRows.map((node) => [\n                node.nodeNumber,\n                node.nodeForce,\n            ]),\n            left: state.leftSupport.nodeNumber ? true : false,\n            right: state.rightSupport.nodeNumber ? true : false,\n        };\n        let a = document.createElement(\"a\");\n        a.setAttribute(\"download\", \"letruction.json\");\n        a.href =\n            \"data:text/plain;charset=utf-8,\" +\n            encodeURIComponent(JSON.stringify(objForDownload, null, \"\\t\"));\n        a.click();\n    }\n};\n\nexport let setNewletructionFromFileData = (newletructionObj) => ({\n    type: SET_NEW_letRUCTION_FROM_FILE_DATA,\n    newletructionObj,\n});\n\nexport let showFileReadingError = (message) => ({\n    type: SHOW_letRUCTION_FROM_FILE_ERROR,\n    message,\n});\n\nlet CHANGE_ROD = \"CHANGE_ROD\";\nlet CHANGING_ROD_AREA_CHANGED = \"CHANGING_ROD_AREA_CHANGED\";\nlet CHANGING_ROD_LENGTH_CHANGED = \"CHANGING_ROD_LENGTH_CHANGED\";\nlet CHANGING_ROD_MODULUS_CHANGED = \"CHANGING_ROD_MODULUS_CHANGED\";\nlet CHANGING_ROD_SIGMA_CHANGED = \"CHANGING_ROD_SIGMA_CHANGED\";\nlet CHANGING_ROD_DISTLOAD_CHANGED = \"CHANGING_ROD_DISTLOAD_CHANGED\";\nlet CHANGING_ROD_SUBMIT = \"CHANGING_ROD_SUBMIT\";\n\n\nexport let handleFileOpening = (inputRef) => (dispatch, getState) => {\n    let reader = new FileReader();\n    reader.onload = () => {\n        let data = JSON.parse(reader.result);\n        let newletructionObj = {};\n        newletructionObj.rodsRows = data.rods.map((rodData, index) => {\n            return {\n                index: index + 1,\n                area: rodData[0],\n                length: rodData[1],\n                modulus: rodData[2],\n                sigma: rodData[3],\n                distLoad: rodData[4],\n                reactKey: uuidv4(),\n            };\n        });\n        newletructionObj.nodesRows = data.nodes.map((nodeData, index) => {\n            return {\n                nodeNumber: nodeData[0],\n                nodeForce: nodeData[1],\n                reactKey: uuidv4(),\n            };\n        });\n        newletructionObj.leftSupport = {\n            nodeNumber: data.left ? 1 : null,\n            isChecked: data.left,\n        };\n        newletructionObj.rightSupport = {\n            nodeNumber: data.right\n                ? newletructionObj.rodsRows.length + 1\n                : null,\n            isChecked: data.right,\n        };\n        newletructionObj.changingRodIndex = null;\n        newletructionObj.changingRodInputRow = {\n            area: \"\",\n            isAreaCorrect: true,\n            length: \"\",\n            isLengthCorrect: true,\n            modulus: \"\",\n            isModulusCorrect: true,\n            sigma: \"\",\n            isSigmaCorrect: true,\n            distLoad: \"\",\n            isDistLoadCorrect: true,\n        };\n        newletructionObj.newRodInputRow = {\n            area: \"\",\n            isAreaCorrect: true,\n            length: \"\",\n            isLengthCorrect: true,\n            modulus: \"\",\n            isModulusCorrect: true,\n            sigma: \"\",\n            isSigmaCorrect: true,\n            distLoad: \"\",\n            isDistLoadCorrect: true,\n        };\n        newletructionObj.newNodeInputRow = {\n            nodeNumber: \"\",\n            isNodeNumberCorrect: true,\n            nodeForce: \"\",\n            isNodeForceCorrect: true,\n        };\n        newletructionObj.changingNodeIndex = null;\n        newletructionObj.changingNodeInputRow = {\n            nodeNumber: \"\",\n            isNodeNumberCorrect: true,\n            nodeForce: \"\",\n            isNodeForceCorrect: true,\n        };\n        newletructionObj.isError = false;\n        newletructionObj.errorMessage = \"\";\n        newletructionObj.isReadyForSave = true;\n        newletructionObj.objWithSolutionFunctions = null;\n        dispatch(setNewletructionFromFileData(newletructionObj));\n    };\n    reader.readAsText(inputRef.current.files[0]);\n};\n\nexport let saveSolution = (solutionObj) => ({\n    type: SAVE_SOLUTION,\n    solution: solutionObj,\n});\n\nlet ADD_NEW_ROD = \"ADD_NEW_ROD\";\nlet NEW_ROD_AREA_CHANGED = \"NEW_ROD_AREA_CHANGED\";\nlet NEW_ROD_LENGTH_CHANGED = \"NEW_ROD_LENGTH_CHANGED\";\nlet NEW_ROD_MODULUS_CHANGED = \"NEW_ROD_MODULUS_CHANGED\";\nlet NEW_ROD_SIGMA_CHANGED = \"NEW_ROD_SIGMA_CHANGED\";\nlet NEW_ROD_DISTLOAD_CHANGED = \"NEW_ROD_DISTLOAD_CHANGED\";\n\nexport let clearSolution = () => ({\n    type: CLEAR_SOLUTION,\n});\n\nexport let showCanvas = () => ({\n    type: SHOW_CANVAS\n})\n\n\n\n\nlet REMOVE_ROD_ROW = \"REMOVE_ROD_ROW\";\nlet ADD_NODE_ROW = \"ADD_NODE_ROW\";\nlet NEW_NODE_NUMBER_CHANGED = \"NEW_NODE_NUMBER_CHANGED\";\nlet NEW_NODE_FORCE_CHANGED = \"NEW_NODE_FORCE_CHANGED\";\n\nlet CHANGE_NODE = \"CHANGE_NODE\";\nlet REMOVE_NODE_ROW = \"REMOVE_NODE_ROW\";\n\n\n\n\nlet CHECK_FOR_ERROR = \"CHECK_FOR_ERROR\";\nlet SHOW_letRUCTION_FROM_FILE_ERROR = \"SHOW_letRUCTION_FROM_FILE_ERROR\";\nlet SET_NEW_letRUCTION_FROM_FILE_DATA =\n    \"SET_NEW_letRUCTION_FROM_FILE_DATA\";\n\nlet SAVE_SOLUTION = \"SAVE_SOLUTION\";\nlet CLEAR_SOLUTION = \"CLEAR_SOLUTION\";\n\nlet SHOW_CANVAS = \"SHOW_CANVAS\"\n\nlet initialState = {\n    rodsRows: [],\n    nodesRows: [],\n    changingRodIndex: null,\n    newRodInputRow: {\n        area: \"\",\n        isAreaCorrect: true,\n        length: \"\",\n        isLengthCorrect: true,\n        modulus: \"\",\n        isModulusCorrect: true,\n        sigma: \"\",\n        isSigmaCorrect: true,\n        distLoad: \"\",\n        isDistLoadCorrect: true,\n    },\n    changingRodInputRow: {\n        area: \"\",\n        isAreaCorrect: true,\n        length: \"\",\n        isLengthCorrect: true,\n        modulus: \"\",\n        isModulusCorrect: true,\n        sigma: \"\",\n        isSigmaCorrect: true,\n        distLoad: \"\",\n        isDistLoadCorrect: true,\n    },\n    changingNodeInputRow: {\n        nodeNumber: \"\",\n        isNodeNumberCorrect: true,\n        nodeForce: \"\",\n        isNodeForceCorrect: true,\n    },\n    newNodeInputRow: {\n        nodeNumber: \"\",\n        isNodeNumberCorrect: true,\n        nodeForce: \"\",\n        isNodeForceCorrect: true,\n    },\n    changingNodeIndex: null,\n    leftSupport: {\n        nodeNumber: null,\n        isChecked: false,\n    },\n    rightSupport: {\n        nodeNumber: null,\n        isChecked: false,\n    },\n    isError: false,\n    errorMessage: \"Конструкция не введена\",\n    isReadyForSave: false,\n    objWithSolutionFunctions: null,\n    isCanvasShown: false\n};"]},"metadata":{},"sourceType":"module"}