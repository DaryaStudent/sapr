{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\glush\\\\Desktop\\\\react-sapr-main\\\\src\\\\components\\\\PostProcessor\\\\PostProcessor.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./PostProcessor.scss\";\nimport { VictoryChart, VictoryArea } from \"victory\";\nimport { connect } from \"react-redux\";\nimport { fixTail } from \"./../Processor/calculate\";\nimport PostProcessorTable from \"./PostProcessorTable\";\n\nfunction PostProcessor(props) {\n  _s();\n\n  const [chosenSternForNx, setChosenSternForNx] = useState(1);\n  const [NxInputValue, setNxInputValue] = useState(0);\n  let NxResult = \"\";\n  const [chosenSternForUx, setChosenSternForUx] = useState(1);\n  const [UxInputValue, setUxInputValue] = useState(0);\n  let UxResult = \"\";\n  const [chosenSternForSx, setChosenSternForSx] = useState(1);\n  const [SxInputValue, setSxInputValue] = useState(0);\n  let SxResult = \"\";\n\n  if (!props.objWithSolutionFunctions) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-processor error\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Error: no result data.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this);\n  }\n\n  const rodsLengths = props.rodsRows.map(stem => stem.length);\n  const rodsSigmas = props.rodsRows.map(stem => stem.sigma);\n  const NxPlotData = [];\n  let xPosForNxPlot = 0;\n  rodsLengths.forEach((rodLength, index) => {\n    const dotsPerStern = 10;\n    const step = rodLength / dotsPerStern;\n    let currentSternXPos = 0;\n\n    for (let i = 0; i < dotsPerStern; i++) {\n      NxPlotData.push({\n        x: xPosForNxPlot + currentSternXPos,\n        y: fixTail(props.objWithSolutionFunctions.N[index](currentSternXPos)),\n        y0: 0\n      });\n      currentSternXPos += step;\n\n      if (i === dotsPerStern - 1) {\n        NxPlotData.push({\n          x: xPosForNxPlot + currentSternXPos,\n          y: fixTail(props.objWithSolutionFunctions.N[index](currentSternXPos)),\n          y0: 0\n        });\n      }\n    }\n\n    xPosForNxPlot += rodLength;\n  });\n  console.log(NxPlotData);\n  const UxPlotData = [];\n  let xPosForUxPlot = 0;\n  rodsLengths.forEach((rodLength, index) => {\n    const dotsPerStern = 10;\n    const step = rodLength / dotsPerStern;\n    let currentSternXPos = 0;\n\n    for (let i = 0; i < dotsPerStern; i++) {\n      UxPlotData.push({\n        x: xPosForUxPlot + currentSternXPos,\n        y: fixTail(props.objWithSolutionFunctions.U[index](currentSternXPos)),\n        y0: 0\n      });\n      currentSternXPos += step;\n\n      if (i === dotsPerStern - 1) {\n        UxPlotData.push({\n          x: xPosForUxPlot + currentSternXPos,\n          y: fixTail(props.objWithSolutionFunctions.U[index](currentSternXPos)),\n          y0: 0\n        }); // UxPlotData.push({\n        //     x: xPosForUxPlot + currentSternXPos,\n        //     y: 0,\n        //     y0: 0,\n        // });\n        // UxPlotData.push({\n        //     x: xPosForUxPlot + currentSternXPos,\n        //     y: fixTail(\n        //         props.objWithSolutionFunctions.U[index](currentSternXPos)\n        //     ),\n        //     y0: 0,\n        // });\n      }\n    }\n\n    xPosForUxPlot += rodLength;\n  });\n  const SxPlotData = [];\n  let xPosForSxPlot = 0;\n  rodsLengths.forEach((rodLength, index) => {\n    const dotsPerStern = 10;\n    const step = rodLength / dotsPerStern;\n    let currentSternXPos = 0;\n\n    for (let i = 0; i < dotsPerStern; i++) {\n      SxPlotData.push({\n        x: xPosForSxPlot + currentSternXPos,\n        y: fixTail(props.objWithSolutionFunctions.S[index](currentSternXPos)),\n        y0: 0\n      });\n      currentSternXPos += step;\n\n      if (i === dotsPerStern - 1) {\n        SxPlotData.push({\n          x: xPosForSxPlot + currentSternXPos,\n          y: fixTail(props.objWithSolutionFunctions.S[index](currentSternXPos)),\n          y0: 0\n        }); // SxPlotData.push({\n        //     x: xPosForSxPlot + currentSternXPos,\n        //     y: 0,\n        //     y0: 0,\n        // });\n        // SxPlotData.push({\n        //     x: xPosForSxPlot + currentSternXPos,\n        //     y: fixTail(\n        //         props.objWithSolutionFunctions.S[index](currentSternXPos)\n        //     ),\n        //     y0: 0,\n        // });\n      }\n    }\n\n    xPosForSxPlot += rodLength;\n  });\n\n  if (NxInputValue < 0 || NxInputValue > rodsLengths[chosenSternForNx - 1]) {\n    NxResult = \"Неправильно введен X\";\n  } else {\n    NxResult = props.objWithSolutionFunctions.N[chosenSternForNx - 1](NxInputValue);\n  }\n\n  if (UxInputValue < 0 || UxInputValue > rodsLengths[chosenSternForUx - 1]) {\n    UxResult = \"Неправильно введен X\";\n  } else {\n    UxResult = props.objWithSolutionFunctions.U[chosenSternForUx - 1](UxInputValue);\n  }\n\n  if (SxInputValue < 0 || SxInputValue > rodsLengths[chosenSternForSx - 1]) {\n    SxResult = \"Неправильно введен X\";\n  } else {\n    SxResult = props.objWithSolutionFunctions.S[chosenSternForSx - 1](SxInputValue);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-processor\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"plots\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"plot\",\n        children: [/*#__PURE__*/_jsxDEV(VictoryChart, {\n          children: /*#__PURE__*/_jsxDEV(VictoryArea, {\n            data: NxPlotData,\n            style: {\n              data: {\n                fill: \"#808080\",\n                fillOpacity: 0.9\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exact-values\",\n          children: \"N\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"plot\",\n        children: [/*#__PURE__*/_jsxDEV(VictoryChart, {\n          children: /*#__PURE__*/_jsxDEV(VictoryArea, {\n            data: UxPlotData,\n            style: {\n              data: {\n                fill: \"#808080\",\n                fillOpacity: 0.9\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exact-values\",\n          children: \"U\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"plot\",\n        children: [/*#__PURE__*/_jsxDEV(VictoryChart, {\n          children: /*#__PURE__*/_jsxDEV(VictoryArea, {\n            data: SxPlotData,\n            style: {\n              data: {\n                fill: \"#808080\",\n                fillOpacity: 0.9\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exact-values\",\n          children: \"\\u03C3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PostProcessorTable, {\n      rodsSigmas: rodsSigmas,\n      rodsLengths: rodsLengths,\n      objWithSolutionFunctions: props.objWithSolutionFunctions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PostProcessor, \"hYJ19TUpfWnDCpu1ymf4+NtynJ4=\");\n\n_c = PostProcessor;\n\nconst mapStateToProps = state => {\n  return {\n    isConstructionComputed: state.rodsAndVortexs.objWithSolutionFunctions,\n    rodsRows: state.rodsAndVortexs.rodsRows,\n    nodesRows: state.rodsAndVortexs.nodesRows,\n    leftSupport: state.rodsAndVortexs.leftSupport,\n    rightSupport: state.rodsAndVortexs.rightSupport,\n    objWithSolutionFunctions: state.rodsAndVortexs.objWithSolutionFunctions\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostProcessor);\n\nvar _c;\n\n$RefreshReg$(_c, \"PostProcessor\");","map":{"version":3,"sources":["C:/Users/glush/Desktop/react-sapr-main/src/components/PostProcessor/PostProcessor.js"],"names":["React","useState","VictoryChart","VictoryArea","connect","fixTail","PostProcessorTable","PostProcessor","props","chosenSternForNx","setChosenSternForNx","NxInputValue","setNxInputValue","NxResult","chosenSternForUx","setChosenSternForUx","UxInputValue","setUxInputValue","UxResult","chosenSternForSx","setChosenSternForSx","SxInputValue","setSxInputValue","SxResult","objWithSolutionFunctions","rodsLengths","rodsRows","map","stem","length","rodsSigmas","sigma","NxPlotData","xPosForNxPlot","forEach","rodLength","index","dotsPerStern","step","currentSternXPos","i","push","x","y","N","y0","console","log","UxPlotData","xPosForUxPlot","U","SxPlotData","xPosForSxPlot","S","data","fill","fillOpacity","mapStateToProps","state","isConstructionComputed","rodsAndVortexs","nodesRows","leftSupport","rightSupport","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./PostProcessor.scss\";\nimport { VictoryChart, VictoryArea } from \"victory\";\nimport { connect } from \"react-redux\";\nimport { fixTail } from \"./../Processor/calculate\";\nimport PostProcessorTable from \"./PostProcessorTable\";\n\nfunction PostProcessor(props) {\n    const [chosenSternForNx, setChosenSternForNx] = useState(1);\n    const [NxInputValue, setNxInputValue] = useState(0);\n    let NxResult = \"\";\n\n    const [chosenSternForUx, setChosenSternForUx] = useState(1);\n    const [UxInputValue, setUxInputValue] = useState(0);\n    let UxResult = \"\";\n\n    const [chosenSternForSx, setChosenSternForSx] = useState(1);\n    const [SxInputValue, setSxInputValue] = useState(0);\n    let SxResult = \"\";\n\n    if (!props.objWithSolutionFunctions) {\n        return (\n            <div className=\"post-processor error\">\n                <div>Error: no result data.</div>\n            </div>\n        );\n    }\n\n    const rodsLengths = props.rodsRows.map((stem) => stem.length);\n    const rodsSigmas = props.rodsRows.map((stem) => stem.sigma);\n    const NxPlotData = [];\n    let xPosForNxPlot = 0;\n    rodsLengths.forEach((rodLength, index) => {\n        const dotsPerStern = 10;\n        const step = rodLength / dotsPerStern;\n        let currentSternXPos = 0;\n        for (let i = 0; i < dotsPerStern; i++) {\n            NxPlotData.push({\n                x: xPosForNxPlot + currentSternXPos,\n                y: fixTail(\n                    props.objWithSolutionFunctions.N[index](currentSternXPos)\n                ),\n                y0: 0,\n            });\n            currentSternXPos += step;\n            if (i === dotsPerStern - 1) {\n                NxPlotData.push({\n                    x: xPosForNxPlot + currentSternXPos,\n                    y: fixTail(\n                        props.objWithSolutionFunctions.N[index](currentSternXPos)\n                    ),\n                    y0: 0,\n                });\n            }\n        }\n        xPosForNxPlot += rodLength;\n    });\n\n    console.log(NxPlotData);\n\n    const UxPlotData = [];\n    let xPosForUxPlot = 0;\n    rodsLengths.forEach((rodLength, index) => {\n        const dotsPerStern = 10;\n        const step = rodLength / dotsPerStern;\n        let currentSternXPos = 0;\n        for (let i = 0; i < dotsPerStern; i++) {\n            UxPlotData.push({\n                x: xPosForUxPlot + currentSternXPos,\n                y: fixTail(\n                    props.objWithSolutionFunctions.U[index](currentSternXPos)\n                ),\n                y0: 0,\n            });\n            currentSternXPos += step;\n            if (i === dotsPerStern - 1) {\n                UxPlotData.push({\n                    x: xPosForUxPlot + currentSternXPos,\n                    y: fixTail(\n                        props.objWithSolutionFunctions.U[index](currentSternXPos)\n                    ),\n                    y0: 0,\n                });\n                // UxPlotData.push({\n                //     x: xPosForUxPlot + currentSternXPos,\n                //     y: 0,\n                //     y0: 0,\n                // });\n                // UxPlotData.push({\n                //     x: xPosForUxPlot + currentSternXPos,\n                //     y: fixTail(\n                //         props.objWithSolutionFunctions.U[index](currentSternXPos)\n                //     ),\n                //     y0: 0,\n                // });\n            }\n        }\n        xPosForUxPlot += rodLength;\n    });\n\n    const SxPlotData = [];\n    let xPosForSxPlot = 0;\n    rodsLengths.forEach((rodLength, index) => {\n        const dotsPerStern = 10;\n        const step = rodLength / dotsPerStern;\n        let currentSternXPos = 0;\n        for (let i = 0; i < dotsPerStern; i++) {\n            SxPlotData.push({\n                x: xPosForSxPlot + currentSternXPos,\n                y: fixTail(\n                    props.objWithSolutionFunctions.S[index](currentSternXPos)\n                ),\n                y0: 0,\n            });\n            currentSternXPos += step;\n            if (i === dotsPerStern - 1) {\n                SxPlotData.push({\n                    x: xPosForSxPlot + currentSternXPos,\n                    y: fixTail(\n                        props.objWithSolutionFunctions.S[index](currentSternXPos)\n                    ),\n                    y0: 0,\n                });\n                // SxPlotData.push({\n                //     x: xPosForSxPlot + currentSternXPos,\n                //     y: 0,\n                //     y0: 0,\n                // });\n                // SxPlotData.push({\n                //     x: xPosForSxPlot + currentSternXPos,\n                //     y: fixTail(\n                //         props.objWithSolutionFunctions.S[index](currentSternXPos)\n                //     ),\n                //     y0: 0,\n                // });\n            }\n        }\n        xPosForSxPlot += rodLength;\n    });\n\n    if (NxInputValue < 0 || NxInputValue > rodsLengths[chosenSternForNx - 1]) {\n        NxResult = \"Неправильно введен X\";\n    } else {\n        NxResult = props.objWithSolutionFunctions.N[chosenSternForNx - 1](\n            NxInputValue\n        );\n    }\n\n    if (UxInputValue < 0 || UxInputValue > rodsLengths[chosenSternForUx - 1]) {\n        UxResult = \"Неправильно введен X\";\n    } else {\n        UxResult = props.objWithSolutionFunctions.U[chosenSternForUx - 1](\n            UxInputValue\n        );\n    }\n\n    if (SxInputValue < 0 || SxInputValue > rodsLengths[chosenSternForSx - 1]) {\n        SxResult = \"Неправильно введен X\";\n    } else {\n        SxResult = props.objWithSolutionFunctions.S[chosenSternForSx - 1](\n            SxInputValue\n        );\n    }\n\n    return (\n        <div className=\"post-processor\">\n            <div className=\"plots\">\n                <div className=\"plot\">\n                    <VictoryChart>\n                        <VictoryArea\n                            data={NxPlotData}\n                            style={{\n                                data: { fill: \"#808080\", fillOpacity: 0.9 },\n                            }}\n                        />\n                    </VictoryChart>\n                    <div className=\"exact-values\">\n                        N\n                        </div>\n                </div>\n                <div className=\"plot\">\n                    <VictoryChart >\n                        <VictoryArea\n                            data={UxPlotData}\n                            style={{\n                                data: { fill: \"#808080\", fillOpacity: 0.9 },\n                            }}\n                        />\n                    </VictoryChart>\n                    <div className=\"exact-values\">\n                        U\n                    </div>\n                </div>\n                <div className=\"plot\">\n                    <VictoryChart>\n                        <VictoryArea\n                            data={SxPlotData}\n                            style={{\n                                data: { fill: \"#808080\", fillOpacity: 0.9 },\n                            }}\n                        />\n                    </VictoryChart>\n                    <div className=\"exact-values\">\n                        σ\n                       </div>\n                </div>\n            </div>\n            <PostProcessorTable\n                rodsSigmas={rodsSigmas}\n                rodsLengths={rodsLengths}\n                objWithSolutionFunctions={props.objWithSolutionFunctions}\n            />\n        </div>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isConstructionComputed: state.rodsAndVortexs.objWithSolutionFunctions,\n        rodsRows: state.rodsAndVortexs.rodsRows,\n        nodesRows: state.rodsAndVortexs.nodesRows,\n        leftSupport: state.rodsAndVortexs.leftSupport,\n        rightSupport: state.rodsAndVortexs.rightSupport,\n        objWithSolutionFunctions: state.rodsAndVortexs.objWithSolutionFunctions,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostProcessor);\n"]},"metadata":{},"sourceType":"module"}