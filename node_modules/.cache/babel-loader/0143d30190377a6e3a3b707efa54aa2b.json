{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\glush\\\\Desktop\\\\react-sapr-main\\\\src\\\\components\\\\Processor\\\\Processor.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport styles from \"./Processor.module.scss\";\nimport calculate from \"./calculate\";\nimport { saveSolution } from \"./../../reducers/reducer\";\n\nfunction Processor(props) {\n  const compute = () => {\n    const reducedNodesRows = [];\n\n    for (let i = 0; i < props.rodsRows.length + 1; i++) {\n      reducedNodesRows.push({\n        nodeNumber: i + 1,\n        nodeForce: 0\n      });\n    }\n\n    props.nodesRows.forEach(node => {\n      reducedNodesRows[node.nodeNumber - 1].nodeForce += node.nodeForce;\n    });\n    reducedNodesRows.forEach(node => {\n      node.nodeForce = Number(node.nodeForce.toFixed(5));\n    });\n    const solution = calculate(props.rodsRows, reducedNodesRows, props.leftSupport, props.rightSupport);\n    props.saveSolution(solution);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.Processor,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: !props.isReadyForComputation,\n      onClick: compute,\n      children: \"\\u0420\\u0430\\u0441\\u0447\\u0438\\u0442\\u0430\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: props.isConstructionComputed && props.isReadyForComputation ? \"done\" : !props.isReadyForComputation ? \"error: incorrect construction\" : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Processor;\n\nconst mapStateToProps = state => {\n  return {\n    isReadyForComputation: state.rodsAndNodes.isReadyForSave,\n    isConstructionComputed: state.rodsAndNodes.objWithSolutionFunctions,\n    rodsRows: state.rodsAndNodes.rodsRows,\n    nodesRows: state.rodsAndNodes.nodesRows,\n    leftSupport: state.rodsAndNodes.leftSupport,\n    rightSupport: state.rodsAndNodes.rightSupport\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    saveSolution: solution => dispatch(saveSolution(solution))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Processor);\n\nvar _c;\n\n$RefreshReg$(_c, \"Processor\");","map":{"version":3,"sources":["C:/Users/glush/Desktop/react-sapr-main/src/components/Processor/Processor.js"],"names":["React","connect","styles","calculate","saveSolution","Processor","props","compute","reducedNodesRows","i","rodsRows","length","push","nodeNumber","nodeForce","nodesRows","forEach","node","Number","toFixed","solution","leftSupport","rightSupport","isReadyForComputation","isConstructionComputed","mapStateToProps","state","rodsAndNodes","isReadyForSave","objWithSolutionFunctions","mapDispatchToProps","dispatch"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,YAAT,QAA6B,0BAA7B;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACtB,QAAMC,OAAO,GAAG,MAAM;AAClB,UAAMC,gBAAgB,GAAG,EAAzB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,QAAN,CAAeC,MAAf,GAAwB,CAA5C,EAA+CF,CAAC,EAAhD,EAAoD;AAChDD,MAAAA,gBAAgB,CAACI,IAAjB,CAAsB;AAAEC,QAAAA,UAAU,EAAEJ,CAAC,GAAG,CAAlB;AAAqBK,QAAAA,SAAS,EAAE;AAAhC,OAAtB;AACH;;AACDR,IAAAA,KAAK,CAACS,SAAN,CAAgBC,OAAhB,CAAyBC,IAAD,IAAU;AAC9BT,MAAAA,gBAAgB,CAACS,IAAI,CAACJ,UAAL,GAAkB,CAAnB,CAAhB,CAAsCC,SAAtC,IAAmDG,IAAI,CAACH,SAAxD;AACH,KAFD;AAIAN,IAAAA,gBAAgB,CAACQ,OAAjB,CAA0BC,IAAD,IAAU;AAC/BA,MAAAA,IAAI,CAACH,SAAL,GAAiBI,MAAM,CAACD,IAAI,CAACH,SAAL,CAAeK,OAAf,CAAuB,CAAvB,CAAD,CAAvB;AACH,KAFD;AAGA,UAAMC,QAAQ,GAAGjB,SAAS,CACtBG,KAAK,CAACI,QADgB,EAEtBF,gBAFsB,EAGtBF,KAAK,CAACe,WAHgB,EAItBf,KAAK,CAACgB,YAJgB,CAA1B;AAMAhB,IAAAA,KAAK,CAACF,YAAN,CAAmBgB,QAAnB;AACH,GAnBD;;AAoBA,sBACI;AAAK,IAAA,SAAS,EAAElB,MAAM,CAACG,SAAvB;AAAA,4BACI;AAAQ,MAAA,QAAQ,EAAE,CAACC,KAAK,CAACiB,qBAAzB;AAAgD,MAAA,OAAO,EAAEhB,OAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAA,gBACKD,KAAK,CAACkB,sBAAN,IAAgClB,KAAK,CAACiB,qBAAtC,GACK,MADL,GAEK,CAACjB,KAAK,CAACiB,qBAAP,GACA,+BADA,GAEA;AALV;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAcH;;KAnCQlB,S;;AAqCT,MAAMoB,eAAe,GAAIC,KAAD,IAAW;AAC/B,SAAO;AACHH,IAAAA,qBAAqB,EAAEG,KAAK,CAACC,YAAN,CAAmBC,cADvC;AAEHJ,IAAAA,sBAAsB,EAAEE,KAAK,CAACC,YAAN,CAAmBE,wBAFxC;AAGHnB,IAAAA,QAAQ,EAAEgB,KAAK,CAACC,YAAN,CAAmBjB,QAH1B;AAIHK,IAAAA,SAAS,EAAEW,KAAK,CAACC,YAAN,CAAmBZ,SAJ3B;AAKHM,IAAAA,WAAW,EAAEK,KAAK,CAACC,YAAN,CAAmBN,WAL7B;AAMHC,IAAAA,YAAY,EAAEI,KAAK,CAACC,YAAN,CAAmBL;AAN9B,GAAP;AAQH,CATD;;AAWA,MAAMQ,kBAAkB,GAAIC,QAAD,IAAc;AACrC,SAAO;AACH3B,IAAAA,YAAY,EAAGgB,QAAD,IAAcW,QAAQ,CAAC3B,YAAY,CAACgB,QAAD,CAAb;AADjC,GAAP;AAGH,CAJD;;AAKA,eAAenB,OAAO,CAACwB,eAAD,EAAkBK,kBAAlB,CAAP,CAA6CzB,SAA7C,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport styles from \"./Processor.module.scss\";\nimport calculate from \"./calculate\";\nimport { saveSolution } from \"./../../reducers/reducer\";\n\nfunction Processor(props) {\n    const compute = () => {\n        const reducedNodesRows = [];\n        for (let i = 0; i < props.rodsRows.length + 1; i++) {\n            reducedNodesRows.push({ nodeNumber: i + 1, nodeForce: 0 });\n        }\n        props.nodesRows.forEach((node) => {\n            reducedNodesRows[node.nodeNumber - 1].nodeForce += node.nodeForce;\n        });\n\n        reducedNodesRows.forEach((node) => {\n            node.nodeForce = Number(node.nodeForce.toFixed(5));\n        });\n        const solution = calculate(\n            props.rodsRows,\n            reducedNodesRows,\n            props.leftSupport,\n            props.rightSupport\n        );\n        props.saveSolution(solution);\n    };\n    return (\n        <div className={styles.Processor}>\n            <button disabled={!props.isReadyForComputation} onClick={compute}>\n                Расчитать\n            </button>\n            <div>\n                {props.isConstructionComputed && props.isReadyForComputation\n                    ? \"done\"\n                    : !props.isReadyForComputation\n                    ? \"error: incorrect construction\"\n                    : null}\n            </div>\n        </div>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isReadyForComputation: state.rodsAndNodes.isReadyForSave,\n        isConstructionComputed: state.rodsAndNodes.objWithSolutionFunctions,\n        rodsRows: state.rodsAndNodes.rodsRows,\n        nodesRows: state.rodsAndNodes.nodesRows,\n        leftSupport: state.rodsAndNodes.leftSupport,\n        rightSupport: state.rodsAndNodes.rightSupport,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        saveSolution: (solution) => dispatch(saveSolution(solution)),\n    };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Processor);\n"]},"metadata":{},"sourceType":"module"}