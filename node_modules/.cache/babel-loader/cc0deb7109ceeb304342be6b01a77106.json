{"ast":null,"code":"import { v4 as uuidv4 } from \"uuid\";\nimport { SAVE_SOLUTION, CLEAR_SOLUTION } from \"./includes/solution_actions\";\nimport { SET_NEW_CONSTRUCTION_FROM_FILE_DATA } from \"./includes/file_actions\";\nimport { ADD_NEW_STERN, NEW_STERN_AREA_CHANGED, NEW_STERN_LENGTH_CHANGED, NEW_STERN_MODULUS_CHANGED, NEW_STERN_SIGMA_CHANGED, NEW_STERN_DISTLOAD_CHANGED, CHANGE_STERN, CHANGING_STERN_AREA_CHANGED, CHANGING_STERN_LENGTH_CHANGED, CHANGING_STERN_MODULUS_CHANGED, CHANGING_STERN_SIGMA_CHANGED, CHANGING_STERN_DISTLOAD_CHANGED, CHANGING_STERN_SUBMIT, REMOVE_STERN_ROW } from \"./includes/rod_actions\";\nimport { SHOW_CANVAS } from \"./includes/canvas_actions\";\nimport { ADD_NODE_ROW, NEW_NODE_NUMBER_CHANGED, NEW_NODE_FORCE_CHANGED, CHANGE_NODE, REMOVE_NODE_ROW, CHANGING_NODE_NUMBER_CHANGED, CHANGING_NODE_FORCE_CHANGED, CHANGING_NODE_SUBMIT } from \"./includes/node_actions\";\nimport { CHANGE_LEFT_SUPPORT, CHANGE_RIGHT_SUPPORT } from \"./includes/supprot_actions\";\nimport { CHECK_FOR_ERROR, SHOW_CONSTRUCTION_FROM_FILE_ERROR } from \"./includes/error_actions\";\nimport { handleFileOpening } from \"./includes/file_actions\";\nexport { handleFileOpening };\nconst initialState = {\n  rodsRows: [],\n  nodesRows: [],\n  changingSternIndex: null,\n  changingSternInputRow: {\n    area: \"\",\n    isAreaCorrect: true,\n    length: \"\",\n    isLengthCorrect: true,\n    modulus: \"\",\n    isModulusCorrect: true,\n    sigma: \"\",\n    isSigmaCorrect: true,\n    distLoad: \"\",\n    isDistLoadCorrect: true\n  },\n  newSternInputRow: {\n    area: \"\",\n    isAreaCorrect: true,\n    length: \"\",\n    isLengthCorrect: true,\n    modulus: \"\",\n    isModulusCorrect: true,\n    sigma: \"\",\n    isSigmaCorrect: true,\n    distLoad: \"\",\n    isDistLoadCorrect: true\n  },\n  newNodeInputRow: {\n    nodeNumber: \"\",\n    isNodeNumberCorrect: true,\n    nodeForce: \"\",\n    isNodeForceCorrect: true\n  },\n  changingNodeIndex: null,\n  changingNodeInputRow: {\n    nodeNumber: \"\",\n    isNodeNumberCorrect: true,\n    nodeForce: \"\",\n    isNodeForceCorrect: true\n  },\n  leftSupport: {\n    nodeNumber: null,\n    isChecked: false\n  },\n  rightSupport: {\n    nodeNumber: null,\n    isChecked: false\n  },\n  isError: false,\n  errorMessage: \"Конструкция не введена\",\n  isReadyForSave: false,\n  objWithSolutionFunctions: null,\n  isCanvasShown: false\n};\n\nconst rodsAndNodesReducer = (state = initialState, action) => {\n  let value = action.value;\n  let isCorrect = true;\n\n  switch (action.type) {\n    case NEW_STERN_AREA_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        newSternInputRow: { ...state.newSternInputRow,\n          area: value,\n          isAreaCorrect: isCorrect\n        }\n      };\n\n    case NEW_STERN_LENGTH_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        newSternInputRow: { ...state.newSternInputRow,\n          length: value,\n          isLengthCorrect: isCorrect\n        }\n      };\n\n    case NEW_STERN_MODULUS_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        newSternInputRow: { ...state.newSternInputRow,\n          modulus: value,\n          isModulusCorrect: isCorrect\n        }\n      };\n\n    case NEW_STERN_SIGMA_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        newSternInputRow: { ...state.newSternInputRow,\n          sigma: value,\n          isSigmaCorrect: isCorrect\n        }\n      };\n\n    case NEW_STERN_DISTLOAD_CHANGED:\n      if (isNaN(Number(value))) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        newSternInputRow: { ...state.newSternInputRow,\n          distLoad: value,\n          isDistLoadCorrect: isCorrect\n        }\n      };\n\n    case ADD_NEW_STERN:\n      if (state.newSternInputRow.area.length !== 0 && state.newSternInputRow.isAreaCorrect && state.newSternInputRow.length.length !== 0 && state.newSternInputRow.isLengthCorrect && state.newSternInputRow.modulus.length !== 0 && state.newSternInputRow.isModulusCorrect && state.newSternInputRow.sigma.length !== 0 && state.newSternInputRow.isSigmaCorrect && state.newSternInputRow.distLoad.length !== 0 && state.newSternInputRow.isDistLoadCorrect) {\n        const newObj = { ...state,\n          rodsRows: [...state.rodsRows, {\n            index: state.rodsRows.length + 1,\n            area: Number(state.newSternInputRow.area),\n            length: Number(state.newSternInputRow.length),\n            modulus: Number(state.newSternInputRow.modulus),\n            sigma: Number(state.newSternInputRow.sigma),\n            distLoad: Number(state.newSternInputRow.distLoad),\n            reactKey: uuidv4()\n          }],\n          newSternInputRow: {\n            area: \"\",\n            isAreaCorrect: true,\n            length: \"\",\n            isLengthCorrect: true,\n            modulus: \"\",\n            isModulusCorrect: true,\n            sigma: \"\",\n            isSigmaCorrect: true,\n            distLoad: \"\",\n            isDistLoadCorrect: true\n          }\n        };\n        return newObj;\n      } else {\n        return { ...state,\n          newSternInputRow: { ...state.newSternInputRow,\n            isAreaCorrect: state.newSternInputRow.area.length !== 0 && state.newSternInputRow.isAreaCorrect,\n            isLengthCorrect: state.newSternInputRow.length.length !== 0 && state.newSternInputRow.isLengthCorrect,\n            isModulusCorrect: state.newSternInputRow.modulus.length !== 0 && state.newSternInputRow.isModulusCorrect,\n            isSigmaCorrect: state.newSternInputRow.sigma.length !== 0 && state.newSternInputRow.isSigmaCorrect,\n            isDistLoadCorrect: state.newSternInputRow.distLoad.length !== 0 && state.newSternInputRow.isDistLoadCorrect\n          }\n        };\n      }\n\n    case CHANGE_STERN:\n      return { ...state,\n        changingSternIndex: action.index,\n        changingSternInputRow: { ...state.changingSternInputRow,\n          area: state.rodsRows[action.index - 1].area,\n          length: state.rodsRows[action.index - 1].length,\n          modulus: state.rodsRows[action.index - 1].modulus,\n          sigma: state.rodsRows[action.index - 1].sigma,\n          distLoad: state.rodsRows[action.index - 1].distLoad\n        }\n      };\n\n    case CHANGING_STERN_AREA_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingSternInputRow: { ...state.changingSternInputRow,\n          area: value,\n          isAreaCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_STERN_LENGTH_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingSternInputRow: { ...state.changingSternInputRow,\n          length: value,\n          isLengthCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_STERN_MODULUS_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingSternInputRow: { ...state.changingSternInputRow,\n          modulus: value,\n          isModulusCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_STERN_SIGMA_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingSternInputRow: { ...state.changingSternInputRow,\n          sigma: value,\n          isSigmaCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_STERN_DISTLOAD_CHANGED:\n      if (isNaN(Number(value))) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingSternInputRow: { ...state.changingSternInputRow,\n          distLoad: value,\n          isDistLoadCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_STERN_SUBMIT:\n      {\n        if (state.changingSternInputRow.area.length !== 0 && state.changingSternInputRow.isAreaCorrect && state.changingSternInputRow.length.length !== 0 && state.changingSternInputRow.isLengthCorrect && state.changingSternInputRow.modulus.length !== 0 && state.changingSternInputRow.isModulusCorrect && state.changingSternInputRow.sigma.length !== 0 && state.changingSternInputRow.isSigmaCorrect && state.changingSternInputRow.distLoad.length !== 0 && state.changingSternInputRow.isDistLoadCorrect) {\n          const changedSternData = {\n            index: state.changingSternIndex,\n            area: Number(state.changingSternInputRow.area),\n            length: Number(state.changingSternInputRow.length),\n            modulus: Number(state.changingSternInputRow.modulus),\n            sigma: Number(state.changingSternInputRow.sigma),\n            distLoad: Number(state.changingSternInputRow.distLoad)\n          };\n          let changedSternsRows = JSON.parse(JSON.stringify(state.rodsRows));\n          changedSternsRows.splice(state.changingSternIndex - 1, 1, changedSternData);\n          const newObj = { ...state,\n            rodsRows: changedSternsRows,\n            changingSternIndex: null,\n            changingSternInputRow: {\n              area: \"\",\n              isAreaCorrect: true,\n              length: \"\",\n              isLengthCorrect: true,\n              modulus: \"\",\n              isModulusCorrect: true,\n              sigma: \"\",\n              isSigmaCorrect: true,\n              distLoad: \"\",\n              isDistLoadCorrect: true\n            }\n          };\n          return newObj;\n        } else {\n          return { ...state,\n            changingSternInputRow: { ...state.changingSternInputRow,\n              isAreaCorrect: state.changingSternInputRow.area.length !== 0 && state.changingSternInputRow.isAreaCorrect,\n              isLengthCorrect: state.changingSternInputRow.length.length !== 0 && state.changingSternInputRow.isLengthCorrect,\n              isModulusCorrect: state.changingSternInputRow.modulus.length !== 0 && state.changingSternInputRow.isModulusCorrect,\n              isSigmaCorrect: state.changingSternInputRow.sigma.length !== 0 && state.changingSternInputRow.isSigmaCorrect,\n              isDistLoadCorrect: state.changingSternInputRow.distLoad.length !== 0 && state.changingSternInputRow.isDistLoadCorrect\n            }\n          };\n        }\n      }\n\n    case REMOVE_STERN_ROW:\n      let filteredSternsRows = [...state.rodsRows];\n      filteredSternsRows.splice(action.index - 1, 1);\n      filteredSternsRows.forEach((rodRow, index) => {\n        rodRow.index = index + 1;\n      });\n      return { ...state,\n        rodsRows: filteredSternsRows,\n        isReadyForSave: filteredSternsRows.length > 0\n      };\n\n    case ADD_NODE_ROW:\n      if (state.newNodeInputRow.nodeNumber.length !== 0 && state.newNodeInputRow.isNodeNumberCorrect && state.newNodeInputRow.nodeForce.length !== 0 && state.newNodeInputRow.isNodeForceCorrect) {\n        const newNodeData = {\n          nodeNumber: Number(state.newNodeInputRow.nodeNumber),\n          nodeForce: Number(state.newNodeInputRow.nodeForce),\n          reactKey: uuidv4()\n        };\n        return { ...state,\n          nodesRows: [...state.nodesRows, newNodeData],\n          newNodeInputRow: {\n            nodeNumber: \"\",\n            isNodeNumberCorrect: true,\n            nodeForce: \"\",\n            isNodeForceCorrect: true\n          }\n        };\n      } else {\n        return { ...state,\n          newNodeInputRow: { ...state.newNodeInputRow,\n            isNodeNumberCorrect: state.newNodeInputRow.nodeNumber.length !== 0 && state.newNodeInputRow.isNodeNumberCorrect,\n            isNodeForceCorrect: state.newNodeInputRow.nodeForce.length !== 0 && state.newNodeInputRow.isNodeForceCorrect\n          }\n        };\n      }\n\n    case NEW_NODE_NUMBER_CHANGED:\n      {\n        if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n          isCorrect = false;\n        }\n\n        return { ...state,\n          newNodeInputRow: { ...state.newNodeInputRow,\n            nodeNumber: value,\n            isNodeNumberCorrect: isCorrect\n          }\n        };\n      }\n\n    case NEW_NODE_FORCE_CHANGED:\n      {\n        if (isNaN(Number(value)) || value.length === 0) {\n          isCorrect = false;\n        }\n\n        return { ...state,\n          newNodeInputRow: { ...state.newNodeInputRow,\n            nodeForce: value,\n            isNodeForceCorrect: isCorrect\n          }\n        };\n      }\n\n    case CHANGE_NODE:\n      return { ...state,\n        changingNodeIndex: action.index,\n        changingNodeInputRow: { ...state.changingNodeInputRow,\n          nodeNumber: state.nodesRows[action.index].nodeNumber,\n          nodeForce: state.nodesRows[action.index].nodeForce\n        }\n      };\n\n    case CHANGING_NODE_NUMBER_CHANGED:\n      if (isNaN(Number(value)) || Number(value) <= 0 && value.length !== 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingNodeInputRow: { ...state.changingNodeInputRow,\n          nodeNumber: value,\n          isNodeNumberCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_NODE_FORCE_CHANGED:\n      if (isNaN(Number(value)) || value.length === 0) {\n        isCorrect = false;\n      }\n\n      return { ...state,\n        changingNodeInputRow: { ...state.changingNodeInputRow,\n          nodeForce: value,\n          isNodeForceCorrect: isCorrect\n        }\n      };\n\n    case CHANGING_NODE_SUBMIT:\n      if (state.changingNodeInputRow.nodeNumber.length !== 0 && state.changingNodeInputRow.isNodeNumberCorrect && state.changingNodeInputRow.nodeForce.length !== 0 && state.changingNodeInputRow.isNodeForceCorrect) {\n        const changedNodeData = {\n          nodeNumber: Number(state.changingNodeInputRow.nodeNumber),\n          nodeForce: Number(state.changingNodeInputRow.nodeForce),\n          reactKey: uuidv4()\n        };\n        let changedNodesRows = JSON.parse(JSON.stringify(state.nodesRows));\n        changedNodesRows.splice(state.changingNodeIndex, 1, changedNodeData);\n        return { ...state,\n          nodesRows: changedNodesRows,\n          changingNodeIndex: null,\n          changingNodeInputRow: {\n            nodeNumber: \"\",\n            isNodeNumberCorrect: true,\n            nodeForce: \"\",\n            isNodeForceCorrect: true\n          }\n        };\n      } else {\n        return { ...state,\n          newNodeInputRow: { ...state.newNodeInputRow,\n            isNodeNumberCorrect: state.newNodeInputRow.nodeNumber.length !== 0 && state.newNodeInputRow.isNodeNumberCorrect,\n            isNodeForceCorrect: state.newNodeInputRow.nodeForce.length !== 0 && state.newNodeInputRow.isNodeForceCorrect\n          }\n        };\n      }\n\n    case REMOVE_NODE_ROW:\n      let filteredNodesRows = [...state.nodesRows];\n      filteredNodesRows.splice(action.index, 1);\n      return { ...state,\n        nodesRows: filteredNodesRows\n      };\n\n    case CHANGE_LEFT_SUPPORT:\n      if (state.rodsRows.length !== 0) {\n        return { ...state,\n          leftSupport: {\n            nodeNumber: action.isChecked ? 1 : null,\n            isChecked: action.isChecked\n          }\n        };\n      }\n\n      return { ...state,\n        leftSupport: {\n          nodeNumber: null,\n          isChecked: action.isChecked\n        }\n      };\n\n    case CHANGE_RIGHT_SUPPORT:\n      if (state.rodsRows.length !== 0) {\n        return { ...state,\n          rightSupport: {\n            nodeNumber: action.isChecked ? state.rodsRows.length + 1 : null,\n            isChecked: action.isChecked\n          }\n        };\n      }\n\n      return { ...state,\n        rightSupport: {\n          nodeNumber: null,\n          isChecked: action.isChecked\n        }\n      };\n\n    case CHECK_FOR_ERROR:\n      if (!(state.leftSupport.isChecked || state.rightSupport.isChecked)) {\n        return { ...state,\n          isError: true,\n          isCanvasShown: false,\n          errorMessage: \"В конструкции должна быть хотя бы одна заделка\",\n          isReadyForSave: false\n        };\n      } else if (state.changingSternIndex !== null) {\n        return { ...state,\n          isError: true,\n          isCanvasShown: false,\n          errorMessage: \"Закончите изменение стержня\",\n          isReadyForSave: false\n        };\n      } else if (state.rodsRows.length < 1) {\n        return { ...state,\n          isError: true,\n          isCanvasShown: false,\n          errorMessage: \"В конструкции отсутствуют стержни\",\n          isReadyForSave: false\n        };\n      } else if (state.rodsRows.length === 0 && state.nodesRows.length !== 0 || state.rodsRows.length >= 1 && Math.max(...state.nodesRows.map(node => node.nodeNumber)) > state.rodsRows.length + 1) {\n        return { ...state,\n          isError: true,\n          isCanvasShown: false,\n          errorMessage: `Узел ${Math.max(...state.nodesRows.map(node => node.nodeNumber))} не существует в конструкции`,\n          isReadyForSave: false\n        };\n      } else {\n        return { ...state,\n          isError: false,\n          isCanvasShown: true,\n          errorMessage: \"\",\n          isReadyForSave: true\n        };\n      }\n\n    case SET_NEW_CONSTRUCTION_FROM_FILE_DATA:\n      {\n        return { ...action.newConstructionObj\n        };\n      }\n\n    case SAVE_SOLUTION:\n      return { ...state,\n        objWithSolutionFunctions: action.solution\n      };\n\n    case CLEAR_SOLUTION:\n      return { ...state,\n        objWithSolutionFunctions: null\n      };\n\n    case SHOW_CANVAS:\n      return { ...state,\n        isCanvasShown: true\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default rodsAndNodesReducer;\nexport const addNewStern = () => ({\n  type: ADD_NEW_STERN\n});\nexport const newSternAreaChanged = value => ({\n  type: NEW_STERN_AREA_CHANGED,\n  value\n});\nexport const newSternLengthChanged = value => ({\n  type: NEW_STERN_LENGTH_CHANGED,\n  value\n});\nexport const newSternModulusChanged = value => ({\n  type: NEW_STERN_MODULUS_CHANGED,\n  value\n});\nexport const newSternSigmaChanged = value => ({\n  type: NEW_STERN_SIGMA_CHANGED,\n  value\n});\nexport const newSternDistLoadChanged = value => ({\n  type: NEW_STERN_DISTLOAD_CHANGED,\n  value\n});\nexport const changeStern = index => ({\n  type: CHANGE_STERN,\n  index\n});\nexport const changingSternAreaChanged = value => ({\n  type: CHANGING_STERN_AREA_CHANGED,\n  value\n});\nexport const changingSternLengthChanged = value => ({\n  type: CHANGING_STERN_LENGTH_CHANGED,\n  value\n});\nexport const changingSternModulusChanged = value => ({\n  type: CHANGING_STERN_MODULUS_CHANGED,\n  value\n});\nexport const changingSternSigmaChanged = value => ({\n  type: CHANGING_STERN_SIGMA_CHANGED,\n  value\n});\nexport const changingSternDistLoadChanged = value => ({\n  type: CHANGING_STERN_DISTLOAD_CHANGED,\n  value\n});\nexport const changingSternSubmit = () => ({\n  type: CHANGING_STERN_SUBMIT\n});\nexport const removeSternRow = index => ({\n  type: REMOVE_STERN_ROW,\n  index\n});\nexport const addNodeRow = () => ({\n  type: ADD_NODE_ROW\n});\nexport const removeNodeRow = index => ({\n  type: REMOVE_NODE_ROW,\n  index\n});\nexport const changeNode = index => ({\n  type: CHANGE_NODE,\n  index\n});\nexport const newNodeNumberChanged = value => ({\n  type: NEW_NODE_NUMBER_CHANGED,\n  value\n});\nexport const newNodeForceChanged = value => ({\n  type: NEW_NODE_FORCE_CHANGED,\n  value\n});\nexport const changingNodeNumberChanged = value => ({\n  type: CHANGING_NODE_NUMBER_CHANGED,\n  value\n});\nexport const changingNodeForceChanged = value => ({\n  type: CHANGING_NODE_FORCE_CHANGED,\n  value\n});\nexport const changingNodeSubmit = () => ({\n  type: CHANGING_NODE_SUBMIT\n});\nexport const changeLeftSupport = isChecked => ({\n  type: CHANGE_LEFT_SUPPORT,\n  isChecked\n});\nexport const changeRightSupport = isChecked => ({\n  type: CHANGE_RIGHT_SUPPORT,\n  isChecked\n});\nexport const checkForError = () => ({\n  type: CHECK_FOR_ERROR\n});\nexport const downloadConstruction = () => (dispatch, getState) => {\n  dispatch(checkForError());\n\n  if (getState().rodsAndNodes.isReadyForSave) {\n    const state = getState().rodsAndNodes;\n    const objForDownload = {\n      rods: state.rodsRows.map(stem => {\n        return [stem.area, stem.length, stem.modulus, stem.sigma, stem.distLoad];\n      }),\n      nodes: state.nodesRows.map(node => [node.nodeNumber, node.nodeForce]),\n      left: state.leftSupport.nodeNumber ? true : false,\n      right: state.rightSupport.nodeNumber ? true : false\n    };\n    let a = document.createElement(\"a\");\n    a.setAttribute(\"download\", \"construction.json\");\n    a.href = \"data:text/plain;charset=utf-8,\" + encodeURIComponent(JSON.stringify(objForDownload, null, \"\\t\"));\n    a.click();\n  }\n};\nexport const setNewConstructionFromFileData = newConstructionObj => ({\n  type: SET_NEW_CONSTRUCTION_FROM_FILE_DATA,\n  newConstructionObj\n});\nexport const showFileReadingError = message => ({\n  type: SHOW_CONSTRUCTION_FROM_FILE_ERROR,\n  message\n});\nexport const saveSolution = solutionObj => ({\n  type: SAVE_SOLUTION,\n  solution: solutionObj\n});\nexport const clearSolution = () => ({\n  type: CLEAR_SOLUTION\n});\nexport const showCanvas = () => ({\n  type: SHOW_CANVAS\n});","map":{"version":3,"sources":["C:/Users/glush/Desktop/react-sapr-main/src/reducers/reducer.js"],"names":["v4","uuidv4","SAVE_SOLUTION","CLEAR_SOLUTION","SET_NEW_CONSTRUCTION_FROM_FILE_DATA","ADD_NEW_STERN","NEW_STERN_AREA_CHANGED","NEW_STERN_LENGTH_CHANGED","NEW_STERN_MODULUS_CHANGED","NEW_STERN_SIGMA_CHANGED","NEW_STERN_DISTLOAD_CHANGED","CHANGE_STERN","CHANGING_STERN_AREA_CHANGED","CHANGING_STERN_LENGTH_CHANGED","CHANGING_STERN_MODULUS_CHANGED","CHANGING_STERN_SIGMA_CHANGED","CHANGING_STERN_DISTLOAD_CHANGED","CHANGING_STERN_SUBMIT","REMOVE_STERN_ROW","SHOW_CANVAS","ADD_NODE_ROW","NEW_NODE_NUMBER_CHANGED","NEW_NODE_FORCE_CHANGED","CHANGE_NODE","REMOVE_NODE_ROW","CHANGING_NODE_NUMBER_CHANGED","CHANGING_NODE_FORCE_CHANGED","CHANGING_NODE_SUBMIT","CHANGE_LEFT_SUPPORT","CHANGE_RIGHT_SUPPORT","CHECK_FOR_ERROR","SHOW_CONSTRUCTION_FROM_FILE_ERROR","handleFileOpening","initialState","rodsRows","nodesRows","changingSternIndex","changingSternInputRow","area","isAreaCorrect","length","isLengthCorrect","modulus","isModulusCorrect","sigma","isSigmaCorrect","distLoad","isDistLoadCorrect","newSternInputRow","newNodeInputRow","nodeNumber","isNodeNumberCorrect","nodeForce","isNodeForceCorrect","changingNodeIndex","changingNodeInputRow","leftSupport","isChecked","rightSupport","isError","errorMessage","isReadyForSave","objWithSolutionFunctions","isCanvasShown","rodsAndNodesReducer","state","action","value","isCorrect","type","isNaN","Number","newObj","index","reactKey","changedSternData","changedSternsRows","JSON","parse","stringify","splice","filteredSternsRows","forEach","rodRow","newNodeData","changedNodeData","changedNodesRows","filteredNodesRows","Math","max","map","node","newConstructionObj","solution","addNewStern","newSternAreaChanged","newSternLengthChanged","newSternModulusChanged","newSternSigmaChanged","newSternDistLoadChanged","changeStern","changingSternAreaChanged","changingSternLengthChanged","changingSternModulusChanged","changingSternSigmaChanged","changingSternDistLoadChanged","changingSternSubmit","removeSternRow","addNodeRow","removeNodeRow","changeNode","newNodeNumberChanged","newNodeForceChanged","changingNodeNumberChanged","changingNodeForceChanged","changingNodeSubmit","changeLeftSupport","changeRightSupport","checkForError","downloadConstruction","dispatch","getState","rodsAndNodes","objForDownload","rods","stem","nodes","left","right","a","document","createElement","setAttribute","href","encodeURIComponent","click","setNewConstructionFromFileData","showFileReadingError","message","saveSolution","solutionObj","clearSolution","showCanvas"],"mappings":"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","sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\n\nimport {\n    SAVE_SOLUTION,\n    CLEAR_SOLUTION\n} from \"./includes/solution_actions\";\n\nimport {\n    SET_NEW_CONSTRUCTION_FROM_FILE_DATA\n} from \"./includes/file_actions\";\n\nimport {\n    ADD_NEW_STERN,\n    NEW_STERN_AREA_CHANGED,\n    NEW_STERN_LENGTH_CHANGED,\n    NEW_STERN_MODULUS_CHANGED,\n    NEW_STERN_SIGMA_CHANGED,\n    NEW_STERN_DISTLOAD_CHANGED,\n    CHANGE_STERN,\n    CHANGING_STERN_AREA_CHANGED,\n    CHANGING_STERN_LENGTH_CHANGED,\n    CHANGING_STERN_MODULUS_CHANGED,\n    CHANGING_STERN_SIGMA_CHANGED,\n    CHANGING_STERN_DISTLOAD_CHANGED,\n    CHANGING_STERN_SUBMIT,\n    REMOVE_STERN_ROW,\n} from \"./includes/rod_actions\";\n\nimport {\n    SHOW_CANVAS\n} from \"./includes/canvas_actions\";\n\nimport {\n    ADD_NODE_ROW,\n    NEW_NODE_NUMBER_CHANGED,\n    NEW_NODE_FORCE_CHANGED,\n    CHANGE_NODE,\n    REMOVE_NODE_ROW,\n    CHANGING_NODE_NUMBER_CHANGED,\n    CHANGING_NODE_FORCE_CHANGED,\n    CHANGING_NODE_SUBMIT,\n} from \"./includes/node_actions\";\n\nimport {\n    CHANGE_LEFT_SUPPORT,\n    CHANGE_RIGHT_SUPPORT\n} from \"./includes/supprot_actions\";\n\nimport {\n    CHECK_FOR_ERROR,\n    SHOW_CONSTRUCTION_FROM_FILE_ERROR\n} from \"./includes/error_actions\";\n\nimport {\n    handleFileOpening\n} from \"./includes/file_actions\"\n\nexport {handleFileOpening};\n\nconst initialState = {\n    rodsRows: [],\n    nodesRows: [],\n    changingSternIndex: null,\n    changingSternInputRow: {\n        area: \"\",\n        isAreaCorrect: true,\n        length: \"\",\n        isLengthCorrect: true,\n        modulus: \"\",\n        isModulusCorrect: true,\n        sigma: \"\",\n        isSigmaCorrect: true,\n        distLoad: \"\",\n        isDistLoadCorrect: true,\n    },\n    newSternInputRow: {\n        area: \"\",\n        isAreaCorrect: true,\n        length: \"\",\n        isLengthCorrect: true,\n        modulus: \"\",\n        isModulusCorrect: true,\n        sigma: \"\",\n        isSigmaCorrect: true,\n        distLoad: \"\",\n        isDistLoadCorrect: true,\n    },\n    newNodeInputRow: {\n        nodeNumber: \"\",\n        isNodeNumberCorrect: true,\n        nodeForce: \"\",\n        isNodeForceCorrect: true,\n    },\n    changingNodeIndex: null,\n    changingNodeInputRow: {\n        nodeNumber: \"\",\n        isNodeNumberCorrect: true,\n        nodeForce: \"\",\n        isNodeForceCorrect: true,\n    },\n    leftSupport: {\n        nodeNumber: null,\n        isChecked: false,\n    },\n    rightSupport: {\n        nodeNumber: null,\n        isChecked: false,\n    },\n    isError: false,\n    errorMessage: \"Конструкция не введена\",\n    isReadyForSave: false,\n    objWithSolutionFunctions: null,\n    isCanvasShown: false\n};\n\nconst rodsAndNodesReducer = (state = initialState, action) => {\n    let value = action.value;\n    let isCorrect = true;\n\n    switch (action.type) {\n        case NEW_STERN_AREA_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newSternInputRow: {\n                    ...state.newSternInputRow,\n                    area: value,\n                    isAreaCorrect: isCorrect,\n                },\n            };\n        case NEW_STERN_LENGTH_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newSternInputRow: {\n                    ...state.newSternInputRow,\n                    length: value,\n                    isLengthCorrect: isCorrect,\n                },\n            };\n        case NEW_STERN_MODULUS_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newSternInputRow: {\n                    ...state.newSternInputRow,\n                    modulus: value,\n                    isModulusCorrect: isCorrect,\n                },\n            };\n        case NEW_STERN_SIGMA_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newSternInputRow: {\n                    ...state.newSternInputRow,\n                    sigma: value,\n                    isSigmaCorrect: isCorrect,\n                },\n            };\n        case NEW_STERN_DISTLOAD_CHANGED:\n            if (isNaN(Number(value))) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newSternInputRow: {\n                    ...state.newSternInputRow,\n                    distLoad: value,\n                    isDistLoadCorrect: isCorrect,\n                },\n            };\n        case ADD_NEW_STERN:\n            if (\n                state.newSternInputRow.area.length !== 0 &&\n                state.newSternInputRow.isAreaCorrect &&\n                state.newSternInputRow.length.length !== 0 &&\n                state.newSternInputRow.isLengthCorrect &&\n                state.newSternInputRow.modulus.length !== 0 &&\n                state.newSternInputRow.isModulusCorrect &&\n                state.newSternInputRow.sigma.length !== 0 &&\n                state.newSternInputRow.isSigmaCorrect &&\n                state.newSternInputRow.distLoad.length !== 0 &&\n                state.newSternInputRow.isDistLoadCorrect\n            ) {\n                const newObj = {\n                    ...state,\n                    rodsRows: [\n                        ...state.rodsRows,\n                        {\n                            index: state.rodsRows.length + 1,\n                            area: Number(state.newSternInputRow.area),\n                            length: Number(state.newSternInputRow.length),\n                            modulus: Number(state.newSternInputRow.modulus),\n                            sigma: Number(state.newSternInputRow.sigma),\n                            distLoad: Number(state.newSternInputRow.distLoad),\n                            reactKey: uuidv4(),\n                        },\n                    ],\n                    newSternInputRow: {\n                        area: \"\",\n                        isAreaCorrect: true,\n                        length: \"\",\n                        isLengthCorrect: true,\n                        modulus: \"\",\n                        isModulusCorrect: true,\n                        sigma: \"\",\n                        isSigmaCorrect: true,\n                        distLoad: \"\",\n                        isDistLoadCorrect: true,\n                    },\n                };\n                return newObj;\n            } else {\n                return {\n                    ...state,\n                    newSternInputRow: {\n                        ...state.newSternInputRow,\n                        isAreaCorrect:\n                            state.newSternInputRow.area.length !== 0 &&\n                            state.newSternInputRow.isAreaCorrect,\n                        isLengthCorrect:\n                            state.newSternInputRow.length.length !== 0 &&\n                            state.newSternInputRow.isLengthCorrect,\n                        isModulusCorrect:\n                            state.newSternInputRow.modulus.length !== 0 &&\n                            state.newSternInputRow.isModulusCorrect,\n                        isSigmaCorrect:\n                            state.newSternInputRow.sigma.length !== 0 &&\n                            state.newSternInputRow.isSigmaCorrect,\n                        isDistLoadCorrect:\n                            state.newSternInputRow.distLoad.length !== 0 &&\n                            state.newSternInputRow.isDistLoadCorrect,\n                    },\n                };\n            }\n        case CHANGE_STERN:\n            return {\n                ...state,\n                changingSternIndex: action.index,\n                changingSternInputRow: {\n                    ...state.changingSternInputRow,\n                    area: state.rodsRows[action.index - 1].area,\n                    length: state.rodsRows[action.index - 1].length,\n                    modulus: state.rodsRows[action.index - 1].modulus,\n                    sigma: state.rodsRows[action.index - 1].sigma,\n                    distLoad: state.rodsRows[action.index - 1].distLoad,\n                },\n            };\n        case CHANGING_STERN_AREA_CHANGED:\n            if (isNaN(Number(value)) || Number(value) <= 0) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingSternInputRow: {\n                    ...state.changingSternInputRow,\n                    area: value,\n                    isAreaCorrect: isCorrect,\n                },\n            };\n        case CHANGING_STERN_LENGTH_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingSternInputRow: {\n                    ...state.changingSternInputRow,\n                    length: value,\n                    isLengthCorrect: isCorrect,\n                },\n            };\n        case CHANGING_STERN_MODULUS_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingSternInputRow: {\n                    ...state.changingSternInputRow,\n                    modulus: value,\n                    isModulusCorrect: isCorrect,\n                },\n            };\n        case CHANGING_STERN_SIGMA_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingSternInputRow: {\n                    ...state.changingSternInputRow,\n                    sigma: value,\n                    isSigmaCorrect: isCorrect,\n                },\n            };\n        case CHANGING_STERN_DISTLOAD_CHANGED:\n            if (isNaN(Number(value))) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingSternInputRow: {\n                    ...state.changingSternInputRow,\n                    distLoad: value,\n                    isDistLoadCorrect: isCorrect,\n                },\n            };\n        case CHANGING_STERN_SUBMIT: {\n            if (\n                state.changingSternInputRow.area.length !== 0 &&\n                state.changingSternInputRow.isAreaCorrect &&\n                state.changingSternInputRow.length.length !== 0 &&\n                state.changingSternInputRow.isLengthCorrect &&\n                state.changingSternInputRow.modulus.length !== 0 &&\n                state.changingSternInputRow.isModulusCorrect &&\n                state.changingSternInputRow.sigma.length !== 0 &&\n                state.changingSternInputRow.isSigmaCorrect &&\n                state.changingSternInputRow.distLoad.length !== 0 &&\n                state.changingSternInputRow.isDistLoadCorrect\n            ) {\n                const changedSternData = {\n                    index: state.changingSternIndex,\n                    area: Number(state.changingSternInputRow.area),\n                    length: Number(state.changingSternInputRow.length),\n                    modulus: Number(state.changingSternInputRow.modulus),\n                    sigma: Number(state.changingSternInputRow.sigma),\n                    distLoad: Number(state.changingSternInputRow.distLoad),\n                };\n                let changedSternsRows = JSON.parse(\n                    JSON.stringify(state.rodsRows)\n                );\n                changedSternsRows.splice(\n                    state.changingSternIndex - 1,\n                    1,\n                    changedSternData\n                );\n\n                const newObj = {\n                    ...state,\n                    rodsRows: changedSternsRows,\n                    changingSternIndex: null,\n                    changingSternInputRow: {\n                        area: \"\",\n                        isAreaCorrect: true,\n                        length: \"\",\n                        isLengthCorrect: true,\n                        modulus: \"\",\n                        isModulusCorrect: true,\n                        sigma: \"\",\n                        isSigmaCorrect: true,\n                        distLoad: \"\",\n                        isDistLoadCorrect: true,\n                    },\n                };\n                return newObj;\n            } else {\n                return {\n                    ...state,\n                    changingSternInputRow: {\n                        ...state.changingSternInputRow,\n                        isAreaCorrect:\n                            state.changingSternInputRow.area.length !== 0 &&\n                            state.changingSternInputRow.isAreaCorrect,\n                        isLengthCorrect:\n                            state.changingSternInputRow.length.length !== 0 &&\n                            state.changingSternInputRow.isLengthCorrect,\n                        isModulusCorrect:\n                            state.changingSternInputRow.modulus.length !== 0 &&\n                            state.changingSternInputRow.isModulusCorrect,\n                        isSigmaCorrect:\n                            state.changingSternInputRow.sigma.length !== 0 &&\n                            state.changingSternInputRow.isSigmaCorrect,\n                        isDistLoadCorrect:\n                            state.changingSternInputRow.distLoad.length !== 0 &&\n                            state.changingSternInputRow.isDistLoadCorrect,\n                    },\n                };\n            }\n        }\n        case REMOVE_STERN_ROW:\n            let filteredSternsRows = [...state.rodsRows];\n            filteredSternsRows.splice(action.index - 1, 1);\n            filteredSternsRows.forEach((rodRow, index) => {\n                rodRow.index = index + 1;\n            });\n\n            return {\n                ...state,\n                rodsRows: filteredSternsRows,\n                isReadyForSave: filteredSternsRows.length > 0,\n            };\n        case ADD_NODE_ROW:\n            if (\n                state.newNodeInputRow.nodeNumber.length !== 0 &&\n                state.newNodeInputRow.isNodeNumberCorrect &&\n                state.newNodeInputRow.nodeForce.length !== 0 &&\n                state.newNodeInputRow.isNodeForceCorrect\n            ) {\n                const newNodeData = {\n                    nodeNumber: Number(state.newNodeInputRow.nodeNumber),\n                    nodeForce: Number(state.newNodeInputRow.nodeForce),\n                    reactKey: uuidv4(),\n                };\n                return {\n                    ...state,\n                    nodesRows: [...state.nodesRows, newNodeData],\n                    newNodeInputRow: {\n                        nodeNumber: \"\",\n                        isNodeNumberCorrect: true,\n                        nodeForce: \"\",\n                        isNodeForceCorrect: true,\n                    },\n                };\n            } else {\n                return {\n                    ...state,\n                    newNodeInputRow: {\n                        ...state.newNodeInputRow,\n                        isNodeNumberCorrect:\n                            state.newNodeInputRow.nodeNumber.length !== 0 &&\n                            state.newNodeInputRow.isNodeNumberCorrect,\n                        isNodeForceCorrect:\n                            state.newNodeInputRow.nodeForce.length !== 0 &&\n                            state.newNodeInputRow.isNodeForceCorrect,\n                    },\n                };\n            }\n        case NEW_NODE_NUMBER_CHANGED: {\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newNodeInputRow: {\n                    ...state.newNodeInputRow,\n                    nodeNumber: value,\n                    isNodeNumberCorrect: isCorrect,\n                },\n            };\n        }\n        case NEW_NODE_FORCE_CHANGED: {\n            if (isNaN(Number(value)) || value.length === 0) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                newNodeInputRow: {\n                    ...state.newNodeInputRow,\n                    nodeForce: value,\n                    isNodeForceCorrect: isCorrect,\n                },\n            };\n        }\n        case CHANGE_NODE:\n            return {\n                ...state,\n                changingNodeIndex: action.index,\n                changingNodeInputRow: {\n                    ...state.changingNodeInputRow,\n                    nodeNumber: state.nodesRows[action.index].nodeNumber,\n                    nodeForce: state.nodesRows[action.index].nodeForce,\n                },\n            };\n        case CHANGING_NODE_NUMBER_CHANGED:\n            if (\n                isNaN(Number(value)) ||\n                (Number(value) <= 0 && value.length !== 0)\n            ) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingNodeInputRow: {\n                    ...state.changingNodeInputRow,\n                    nodeNumber: value,\n                    isNodeNumberCorrect: isCorrect,\n                },\n            };\n        case CHANGING_NODE_FORCE_CHANGED:\n            if (isNaN(Number(value)) || value.length === 0) {\n                isCorrect = false;\n            }\n            return {\n                ...state,\n                changingNodeInputRow: {\n                    ...state.changingNodeInputRow,\n                    nodeForce: value,\n                    isNodeForceCorrect: isCorrect,\n                },\n            };\n        case CHANGING_NODE_SUBMIT:\n            if (\n                state.changingNodeInputRow.nodeNumber.length !== 0 &&\n                state.changingNodeInputRow.isNodeNumberCorrect &&\n                state.changingNodeInputRow.nodeForce.length !== 0 &&\n                state.changingNodeInputRow.isNodeForceCorrect\n            ) {\n                const changedNodeData = {\n                    nodeNumber: Number(state.changingNodeInputRow.nodeNumber),\n                    nodeForce: Number(state.changingNodeInputRow.nodeForce),\n                    reactKey: uuidv4(),\n                };\n                let changedNodesRows = JSON.parse(\n                    JSON.stringify(state.nodesRows)\n                );\n                changedNodesRows.splice(\n                    state.changingNodeIndex,\n                    1,\n                    changedNodeData\n                );\n                return {\n                    ...state,\n                    nodesRows: changedNodesRows,\n                    changingNodeIndex: null,\n                    changingNodeInputRow: {\n                        nodeNumber: \"\",\n                        isNodeNumberCorrect: true,\n                        nodeForce: \"\",\n                        isNodeForceCorrect: true,\n                    },\n                };\n            } else {\n                return {\n                    ...state,\n                    newNodeInputRow: {\n                        ...state.newNodeInputRow,\n                        isNodeNumberCorrect:\n                            state.newNodeInputRow.nodeNumber.length !== 0 &&\n                            state.newNodeInputRow.isNodeNumberCorrect,\n                        isNodeForceCorrect:\n                            state.newNodeInputRow.nodeForce.length !== 0 &&\n                            state.newNodeInputRow.isNodeForceCorrect,\n                    },\n                };\n            }\n        case REMOVE_NODE_ROW:\n            let filteredNodesRows = [...state.nodesRows];\n            filteredNodesRows.splice(action.index, 1);\n            return {\n                ...state,\n                nodesRows: filteredNodesRows,\n            };\n\n        case CHANGE_LEFT_SUPPORT:\n            if (state.rodsRows.length !== 0) {\n                return {\n                    ...state,\n                    leftSupport: {\n                        nodeNumber: action.isChecked ? 1 : null,\n                        isChecked: action.isChecked,\n                    },\n                };\n            }\n            return {\n                ...state,\n                leftSupport: {\n                    nodeNumber: null,\n                    isChecked: action.isChecked,\n                },\n            };\n        case CHANGE_RIGHT_SUPPORT:\n            if (state.rodsRows.length !== 0) {\n                return {\n                    ...state,\n                    rightSupport: {\n                        nodeNumber: action.isChecked\n                            ? state.rodsRows.length + 1\n                            : null,\n                        isChecked: action.isChecked,\n                    },\n                };\n            }\n            return {\n                ...state,\n                rightSupport: {\n                    nodeNumber: null,\n                    isChecked: action.isChecked,\n                },\n            };\n        case CHECK_FOR_ERROR:\n            if (\n                !(state.leftSupport.isChecked || state.rightSupport.isChecked)\n            ) {\n                return {\n                    ...state,\n                    isError: true,\n                    isCanvasShown: false,\n                    errorMessage:\n                        \"В конструкции должна быть хотя бы одна заделка\",\n                    isReadyForSave: false,\n                };\n            } else if (state.changingSternIndex !== null) {\n                return {\n                    ...state,\n                    isError: true,\n                    isCanvasShown: false,\n                    errorMessage: \"Закончите изменение стержня\",\n                    isReadyForSave: false,\n                };\n            } else if (state.rodsRows.length < 1) {\n                return {\n                    ...state,\n                    isError: true,\n                    isCanvasShown: false,\n                    errorMessage: \"В конструкции отсутствуют стержни\",\n                    isReadyForSave: false,\n                };\n            } else if (\n                (state.rodsRows.length === 0 && state.nodesRows.length !== 0) ||\n                (state.rodsRows.length >= 1 &&\n                    Math.max(\n                        ...state.nodesRows.map((node) => node.nodeNumber)\n                    ) >\n                        state.rodsRows.length + 1)\n            ) {\n                return {\n                    ...state,\n                    isError: true,\n                    isCanvasShown: false,\n                    errorMessage: `Узел ${Math.max(\n                        ...state.nodesRows.map((node) => node.nodeNumber)\n                    )} не существует в конструкции`,\n                    isReadyForSave: false,\n                };\n            } else {\n                return {\n                    ...state,\n                    isError: false,\n                    isCanvasShown: true,\n                    errorMessage: \"\",\n                    isReadyForSave: true,\n                };\n            }\n        case SET_NEW_CONSTRUCTION_FROM_FILE_DATA: {\n            return {\n                ...action.newConstructionObj,\n            };\n        }\n        case SAVE_SOLUTION:\n            return {\n                ...state,\n                objWithSolutionFunctions: action.solution,\n            };\n        case CLEAR_SOLUTION:\n            return {\n                ...state,\n                objWithSolutionFunctions: null,\n            };\n        case SHOW_CANVAS :\n            return {\n                ...state,\n                isCanvasShown: true\n            }\n        default:\n            return state;\n    }\n};\n\nexport default rodsAndNodesReducer;\n\nexport const addNewStern = () => ({ type: ADD_NEW_STERN });\nexport const newSternAreaChanged = (value) => ({\n    type: NEW_STERN_AREA_CHANGED,\n    value,\n});\nexport const newSternLengthChanged = (value) => ({\n    type: NEW_STERN_LENGTH_CHANGED,\n    value,\n});\nexport const newSternModulusChanged = (value) => ({\n    type: NEW_STERN_MODULUS_CHANGED,\n    value,\n});\nexport const newSternSigmaChanged = (value) => ({\n    type: NEW_STERN_SIGMA_CHANGED,\n    value,\n});\nexport const newSternDistLoadChanged = (value) => ({\n    type: NEW_STERN_DISTLOAD_CHANGED,\n    value,\n});\n\nexport const changeStern = (index) => ({\n    type: CHANGE_STERN,\n    index,\n});\nexport const changingSternAreaChanged = (value) => ({\n    type: CHANGING_STERN_AREA_CHANGED,\n    value,\n});\nexport const changingSternLengthChanged = (value) => ({\n    type: CHANGING_STERN_LENGTH_CHANGED,\n    value,\n});\nexport const changingSternModulusChanged = (value) => ({\n    type: CHANGING_STERN_MODULUS_CHANGED,\n    value,\n});\nexport const changingSternSigmaChanged = (value) => ({\n    type: CHANGING_STERN_SIGMA_CHANGED,\n    value,\n});\nexport const changingSternDistLoadChanged = (value) => ({\n    type: CHANGING_STERN_DISTLOAD_CHANGED,\n    value,\n});\n\nexport const changingSternSubmit = () => ({\n    type: CHANGING_STERN_SUBMIT,\n});\n\nexport const removeSternRow = (index) => ({\n    type: REMOVE_STERN_ROW,\n    index,\n});\n\nexport const addNodeRow = () => ({\n    type: ADD_NODE_ROW,\n});\n\nexport const removeNodeRow = (index) => ({\n    type: REMOVE_NODE_ROW,\n    index,\n});\n\nexport const changeNode = (index) => ({\n    type: CHANGE_NODE,\n    index,\n});\n\nexport const newNodeNumberChanged = (value) => ({\n    type: NEW_NODE_NUMBER_CHANGED,\n    value,\n});\n\nexport const newNodeForceChanged = (value) => ({\n    type: NEW_NODE_FORCE_CHANGED,\n    value,\n});\n\nexport const changingNodeNumberChanged = (value) => ({\n    type: CHANGING_NODE_NUMBER_CHANGED,\n    value,\n});\n\nexport const changingNodeForceChanged = (value) => ({\n    type: CHANGING_NODE_FORCE_CHANGED,\n    value,\n});\n\nexport const changingNodeSubmit = () => ({\n    type: CHANGING_NODE_SUBMIT,\n});\n\nexport const changeLeftSupport = (isChecked) => ({\n    type: CHANGE_LEFT_SUPPORT,\n    isChecked,\n});\n\nexport const changeRightSupport = (isChecked) => ({\n    type: CHANGE_RIGHT_SUPPORT,\n    isChecked,\n});\n\nexport const checkForError = () => ({ type: CHECK_FOR_ERROR });\n\nexport const downloadConstruction = () => (dispatch, getState) => {\n    dispatch(checkForError());\n    if (getState().rodsAndNodes.isReadyForSave) {\n        const state = getState().rodsAndNodes;\n        const objForDownload = {\n            rods: state.rodsRows.map((stem) => {\n                return [\n                    stem.area,\n                    stem.length,\n                    stem.modulus,\n                    stem.sigma,\n                    stem.distLoad,\n                ];\n            }),\n            nodes: state.nodesRows.map((node) => [\n                node.nodeNumber,\n                node.nodeForce,\n            ]),\n            left: state.leftSupport.nodeNumber ? true : false,\n            right: state.rightSupport.nodeNumber ? true : false,\n        };\n        let a = document.createElement(\"a\");\n        a.setAttribute(\"download\", \"construction.json\");\n        a.href =\n            \"data:text/plain;charset=utf-8,\" +\n            encodeURIComponent(JSON.stringify(objForDownload, null, \"\\t\"));\n        a.click();\n    }\n};\n\nexport const setNewConstructionFromFileData = (newConstructionObj) => ({\n    type: SET_NEW_CONSTRUCTION_FROM_FILE_DATA,\n    newConstructionObj,\n});\n\nexport const showFileReadingError = (message) => ({\n    type: SHOW_CONSTRUCTION_FROM_FILE_ERROR,\n    message,\n});\n\n\n\nexport const saveSolution = (solutionObj) => ({\n    type: SAVE_SOLUTION,\n    solution: solutionObj,\n});\n\nexport const clearSolution = () => ({\n    type: CLEAR_SOLUTION,\n});\n\nexport const showCanvas = () => ({\n    type: SHOW_CANVAS\n})\n"]},"metadata":{},"sourceType":"module"}